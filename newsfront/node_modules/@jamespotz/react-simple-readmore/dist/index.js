"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireWildcard(require("react"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _helper = require("./helpers/helper");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { keys.push.apply(keys, Object.getOwnPropertySymbols(object)); } if (enumerableOnly) keys = keys.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

var getDefaultStyle = function getDefaultStyle() {
  return {
    overflow: 'hidden',
    position: 'relative',
  };
};

var ReadMore = function ReadMore(_ref) {
  var minHeight = _ref.minHeight,
      displayHeight = _ref.displayHeight,
      btnText = _ref.btnText,
      btnTextShown = _ref.btnTextShown,
      timing = _ref.timing,
      timingFunction = _ref.timingFunction,
      defaultShownOnLess = _ref.defaultShownOnLess,
      btn = _ref.btn,
      btnClassName = _ref.btnClassName,
      btnStyles = _ref.btnStyles,
      onClick = _ref.onClick,
      rest = _objectWithoutProperties(_ref, ["minHeight", "displayHeight", "btnText", "btnTextShown", "timing", "timingFunction", "defaultShownOnLess", "btn", "btnClassName", "btnStyles", "onClick"]);

  var container = (0, _react.useRef)();

  var _container = (0, _react.useRef)();

  var _useState = (0, _react.useState)('noWobble'),
      _useState2 = _slicedToArray(_useState, 2),
      selectedPreset = _useState2[0],
      setSelectedPreset = _useState2[1];

  var _useState3 = (0, _react.useState)(50),
      _useState4 = _slicedToArray(_useState3, 2),
      height = _useState4[0],
      setHeight = _useState4[1];

  var _useState5 = (0, _react.useState)(50),
      _useState6 = _slicedToArray(_useState5, 2),
      beforeHeight = _useState6[0],
      setBeforeHeight = _useState6[1];

  var _useState7 = (0, _react.useState)('auto'),
      _useState8 = _slicedToArray(_useState7, 2),
      finalHeight = _useState8[0],
      setFinalHeight = _useState8[1];

  var _useState9 = (0, _react.useState)(false),
      _useState10 = _slicedToArray(_useState9, 2),
      show = _useState10[0],
      setShown = _useState10[1];

  var _useState11 = (0, _react.useState)(' ˅ '),
      _useState12 = _slicedToArray(_useState11, 2),
      btnLabel = _useState12[0],
      setBtnLabel = _useState12[1];

  var _useState13 = (0, _react.useState)(' ˄ '),
      _useState14 = _slicedToArray(_useState13, 2),
      btnLabelShown = _useState14[0],
      setBtnLabelShown = _useState14[1];

  var _useState15 = (0, _react.useState)(0),
      _useState16 = _slicedToArray(_useState15, 2),
      maxAvailableHeight = _useState16[0],
      setMaxAvailableHeight = _useState16[1];

  var _useState17 = (0, _react.useState)(false),
      _useState18 = _slicedToArray(_useState17, 2),
      showContent = _useState18[0],
      setShowContent = _useState18[1];

  (0, _react.useEffect)(function () {
    if (minHeight) {
      setHeight(minHeight);
      setBeforeHeight(minHeight);
    }

    if (displayHeight) setFinalHeight(displayHeight);
    if (btnText) setBtnLabel(btnText);
    if (btnTextShown) setBtnLabelShown(btnTextShown);
    if (_helper.preset.hasOwnProperty(rest.preset)) setSelectedPreset(rest.preset);
  }, [btnText, btnTextShown, displayHeight, minHeight, rest.preset]);
  (0, _react.useEffect)(function () {
    if (_container.current.scrollHeight === 0) return;
    if (_container.current.scrollHeight === maxAvailableHeight) return;

    if (rest.children) {
      setMaxAvailableHeight(_container.current.scrollHeight);
    }
  }, [maxAvailableHeight, rest.children]);

  var animateNow = function animateNow(fn, x, X) {
    var _preset$selectedPrese = _helper.preset[selectedPreset],
        stiffness = _preset$selectedPrese.stiffness,
        damping = _preset$selectedPrese.damping;
    (0, _helper.animate)({
      frameRate: 1000 / 60,
      x: x,
      destX: X,
      v: rest.velocity || 0,
      k: stiffness,
      b: damping,
      precision: rest.precision || 0.01,
      mass: rest.mass || 1,
      el: container.current,
      key: 'height'
    }, fn);
  };

  var showContents = function showContents() {
    setShowContent(true);
    setShown(true);
    animateNow(function () {
      setHeight(finalHeight);
      if (typeof onClick === 'function') onClick.call(null, true);
    }, minHeight, maxAvailableHeight);
  };

  var hideContents = function hideContents() {
    setShown(false);
    setShowContent(false);
    animateNow(function () {
      setHeight(beforeHeight);
      if (typeof onClick === 'function') onClick.call(null, false);
    }, maxAvailableHeight, minHeight);
  };

  var toggleHeight = function toggleHeight() {
    if (show) {
      hideContents();
      return;
    }

    showContents();
  };

  var contentHasSameHeightOrLess = function contentHasSameHeightOrLess() {
    if (!_container.current) return false;
    return maxAvailableHeight <= height;
  };

  var showChildren = function showChildren() {
    if (defaultShownOnLess && !showContent) return defaultShownOnLess;
    return rest.children;
  };

  var renderBtn = function renderBtn() {
    var shouldHide = contentHasSameHeightOrLess();

    if (btn) {
      var newBtn = _react.default.cloneElement(btn, {
        onClick: toggleHeight
      });

      return shouldHide ? null : newBtn;
    }

    return shouldHide ? null : _react.default.createElement("button", {
      onClick: toggleHeight,
      className: btnClassName,
      style: _objectSpread({}, btnStyles)
    }, show ? btnLabelShown : btnLabel);
  };

  var renderFade = function renderFade() {
    if (!rest.fade) return null;
    if (contentHasSameHeightOrLess()) return null;
    var colorStopTop = rest.colorStopTop || 'rgba(255, 255, 255, 0)';
    var colorStopBottom = rest.colorStopBottom || 'white';
    var fadeHeight = rest.fadeHeight || beforeHeight / 2;
    return _react.default.createElement("div", {
      className: "readmore--fade",
      style: {
        opacity: show ? 0 : 1,
        width: '100%',
        position: 'absolute',
        height: fadeHeight,
        bottom: 0,
        backgroundImage: "linear-gradient(to bottom, ".concat(colorStopTop, ", ").concat(colorStopBottom, ")"),
        transition: 'opacity 250ms ease-in'
      }
    });
  };

  return _react.default.createElement("div", {
    className: "readmore__wrapper",
    style: {
      position: 'relative'
    }
  }, _react.default.createElement("div", {
    className: "readmore__container",
    ref: container,
    style: _objectSpread({
      height: height
    }, getDefaultStyle())
  }, showChildren(), renderFade()), renderBtn(), _react.default.createElement("div", {
    className: "reademore__hidden_content",
    style: {
      position: 'absolute',
      top: '-9999px',
      left: '-9999px',
      width: '100%'
    },
    ref: _container
  }, rest.children));
};

ReadMore.propTypes = {
  minHeight: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),
  displayHeight: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),
  btnText: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.element]),
  btnTextShown: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.element]),
  defaultShownOnLess: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.element]),
  btn: _propTypes.default.element,
  onClick: _propTypes.default.func,
  children: _propTypes.default.node.isRequired,
  btnStyles: _propTypes.default.object,
  btnClassName: _propTypes.default.string,
  fade: _propTypes.default.bool,
  fadeHeight: _propTypes.default.number,
  colorStopBottom: _propTypes.default.string,
  colorStopTop: _propTypes.default.string,
  precision: _propTypes.default.number,
  preset: _propTypes.default.oneOf(['noWobble', 'wobbly', 'gentle', 'stiff', 'slow', 'molasses']),
  mass: _propTypes.default.number,
  velocity: _propTypes.default.number,
  stiffness: _propTypes.default.number,
  damping: _propTypes.default.number
};
var _default = ReadMore;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9SZWFkTW9yZS9pbmRleC5qcyJdLCJuYW1lcyI6WyJnZXREZWZhdWx0U3R5bGUiLCJvdmVyZmxvdyIsInBvc2l0aW9uIiwiUmVhZE1vcmUiLCJtaW5IZWlnaHQiLCJkaXNwbGF5SGVpZ2h0IiwiYnRuVGV4dCIsImJ0blRleHRTaG93biIsInRpbWluZyIsInRpbWluZ0Z1bmN0aW9uIiwiZGVmYXVsdFNob3duT25MZXNzIiwiYnRuIiwiYnRuQ2xhc3NOYW1lIiwiYnRuU3R5bGVzIiwib25DbGljayIsInJlc3QiLCJjb250YWluZXIiLCJfY29udGFpbmVyIiwic2VsZWN0ZWRQcmVzZXQiLCJzZXRTZWxlY3RlZFByZXNldCIsImhlaWdodCIsInNldEhlaWdodCIsImJlZm9yZUhlaWdodCIsInNldEJlZm9yZUhlaWdodCIsImZpbmFsSGVpZ2h0Iiwic2V0RmluYWxIZWlnaHQiLCJzaG93Iiwic2V0U2hvd24iLCJidG5MYWJlbCIsInNldEJ0bkxhYmVsIiwiYnRuTGFiZWxTaG93biIsInNldEJ0bkxhYmVsU2hvd24iLCJtYXhBdmFpbGFibGVIZWlnaHQiLCJzZXRNYXhBdmFpbGFibGVIZWlnaHQiLCJzaG93Q29udGVudCIsInNldFNob3dDb250ZW50IiwicHJlc2V0IiwiaGFzT3duUHJvcGVydHkiLCJjdXJyZW50Iiwic2Nyb2xsSGVpZ2h0IiwiY2hpbGRyZW4iLCJhbmltYXRlTm93IiwiZm4iLCJ4IiwiWCIsInN0aWZmbmVzcyIsImRhbXBpbmciLCJmcmFtZVJhdGUiLCJkZXN0WCIsInYiLCJ2ZWxvY2l0eSIsImsiLCJiIiwicHJlY2lzaW9uIiwibWFzcyIsImVsIiwia2V5Iiwic2hvd0NvbnRlbnRzIiwiY2FsbCIsImhpZGVDb250ZW50cyIsInRvZ2dsZUhlaWdodCIsImNvbnRlbnRIYXNTYW1lSGVpZ2h0T3JMZXNzIiwic2hvd0NoaWxkcmVuIiwicmVuZGVyQnRuIiwic2hvdWxkSGlkZSIsIm5ld0J0biIsIlJlYWN0IiwiY2xvbmVFbGVtZW50IiwicmVuZGVyRmFkZSIsImZhZGUiLCJjb2xvclN0b3BUb3AiLCJjb2xvclN0b3BCb3R0b20iLCJmYWRlSGVpZ2h0Iiwib3BhY2l0eSIsIndpZHRoIiwiYm90dG9tIiwiYmFja2dyb3VuZEltYWdlIiwidHJhbnNpdGlvbiIsInRvcCIsImxlZnQiLCJwcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJvbmVPZlR5cGUiLCJzdHJpbmciLCJudW1iZXIiLCJlbGVtZW50IiwiZnVuYyIsIm5vZGUiLCJpc1JlcXVpcmVkIiwib2JqZWN0IiwiYm9vbCIsIm9uZU9mIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBLElBQU1BLGVBQWUsR0FBRyxTQUFsQkEsZUFBa0IsR0FBTTtBQUM3QixTQUFPO0FBQ05DLElBQUFBLFFBQVEsRUFBRSxRQURKO0FBRU5DLElBQUFBLFFBQVEsRUFBRTtBQUZKLEdBQVA7QUFJQSxDQUxEOztBQU9BLElBQU1DLFFBQVEsR0FBRyxTQUFYQSxRQUFXLE9BYVg7QUFBQSxNQVpMQyxTQVlLLFFBWkxBLFNBWUs7QUFBQSxNQVhMQyxhQVdLLFFBWExBLGFBV0s7QUFBQSxNQVZMQyxPQVVLLFFBVkxBLE9BVUs7QUFBQSxNQVRMQyxZQVNLLFFBVExBLFlBU0s7QUFBQSxNQVJMQyxNQVFLLFFBUkxBLE1BUUs7QUFBQSxNQVBMQyxjQU9LLFFBUExBLGNBT0s7QUFBQSxNQU5MQyxrQkFNSyxRQU5MQSxrQkFNSztBQUFBLE1BTExDLEdBS0ssUUFMTEEsR0FLSztBQUFBLE1BSkxDLFlBSUssUUFKTEEsWUFJSztBQUFBLE1BSExDLFNBR0ssUUFITEEsU0FHSztBQUFBLE1BRkxDLE9BRUssUUFGTEEsT0FFSztBQUFBLE1BREZDLElBQ0U7O0FBQ0wsTUFBTUMsU0FBUyxHQUFHLG9CQUFsQjs7QUFDQSxNQUFNQyxVQUFVLEdBQUcsb0JBQW5COztBQUZLLGtCQUd1QyxxQkFBUyxVQUFULENBSHZDO0FBQUE7QUFBQSxNQUdFQyxjQUhGO0FBQUEsTUFHa0JDLGlCQUhsQjs7QUFBQSxtQkFJdUIscUJBQVMsRUFBVCxDQUp2QjtBQUFBO0FBQUEsTUFJRUMsTUFKRjtBQUFBLE1BSVVDLFNBSlY7O0FBQUEsbUJBS21DLHFCQUFTLEVBQVQsQ0FMbkM7QUFBQTtBQUFBLE1BS0VDLFlBTEY7QUFBQSxNQUtnQkMsZUFMaEI7O0FBQUEsbUJBTWlDLHFCQUFTLE1BQVQsQ0FOakM7QUFBQTtBQUFBLE1BTUVDLFdBTkY7QUFBQSxNQU1lQyxjQU5mOztBQUFBLG1CQU9vQixxQkFBUyxLQUFULENBUHBCO0FBQUE7QUFBQSxNQU9FQyxJQVBGO0FBQUEsTUFPUUMsUUFQUjs7QUFBQSxvQkFRMkIscUJBQVMsV0FBVCxDQVIzQjtBQUFBO0FBQUEsTUFRRUMsUUFSRjtBQUFBLE1BUVlDLFdBUlo7O0FBQUEsb0JBU3FDLHFCQUFTLFdBQVQsQ0FUckM7QUFBQTtBQUFBLE1BU0VDLGFBVEY7QUFBQSxNQVNpQkMsZ0JBVGpCOztBQUFBLG9CQVUrQyxxQkFBUyxDQUFULENBVi9DO0FBQUE7QUFBQSxNQVVFQyxrQkFWRjtBQUFBLE1BVXNCQyxxQkFWdEI7O0FBQUEsb0JBV2lDLHFCQUFTLEtBQVQsQ0FYakM7QUFBQTtBQUFBLE1BV0VDLFdBWEY7QUFBQSxNQVdlQyxjQVhmOztBQWFMLHdCQUFVLFlBQU07QUFDZixRQUFJL0IsU0FBSixFQUFlO0FBQ2RpQixNQUFBQSxTQUFTLENBQUNqQixTQUFELENBQVQ7QUFDQW1CLE1BQUFBLGVBQWUsQ0FBQ25CLFNBQUQsQ0FBZjtBQUNBOztBQUNELFFBQUlDLGFBQUosRUFBbUJvQixjQUFjLENBQUNwQixhQUFELENBQWQ7QUFDbkIsUUFBSUMsT0FBSixFQUFhdUIsV0FBVyxDQUFDdkIsT0FBRCxDQUFYO0FBQ2IsUUFBSUMsWUFBSixFQUFrQndCLGdCQUFnQixDQUFDeEIsWUFBRCxDQUFoQjtBQUNsQixRQUFJNkIsZUFBT0MsY0FBUCxDQUFzQnRCLElBQUksQ0FBQ3FCLE1BQTNCLENBQUosRUFBd0NqQixpQkFBaUIsQ0FBQ0osSUFBSSxDQUFDcUIsTUFBTixDQUFqQjtBQUN4QyxHQVRELEVBU0csQ0FBQzlCLE9BQUQsRUFBVUMsWUFBVixFQUF3QkYsYUFBeEIsRUFBdUNELFNBQXZDLEVBQWtEVyxJQUFJLENBQUNxQixNQUF2RCxDQVRIO0FBV0Esd0JBQVUsWUFBTTtBQUNmLFFBQUluQixVQUFVLENBQUNxQixPQUFYLENBQW1CQyxZQUFuQixLQUFvQyxDQUF4QyxFQUEyQztBQUMzQyxRQUFJdEIsVUFBVSxDQUFDcUIsT0FBWCxDQUFtQkMsWUFBbkIsS0FBb0NQLGtCQUF4QyxFQUE0RDs7QUFDNUQsUUFBSWpCLElBQUksQ0FBQ3lCLFFBQVQsRUFBbUI7QUFDbEJQLE1BQUFBLHFCQUFxQixDQUFDaEIsVUFBVSxDQUFDcUIsT0FBWCxDQUFtQkMsWUFBcEIsQ0FBckI7QUFDQTtBQUNELEdBTkQsRUFNRyxDQUFDUCxrQkFBRCxFQUFxQmpCLElBQUksQ0FBQ3lCLFFBQTFCLENBTkg7O0FBUUEsTUFBTUMsVUFBVSxHQUFHLFNBQWJBLFVBQWEsQ0FBQ0MsRUFBRCxFQUFLQyxDQUFMLEVBQVFDLENBQVIsRUFBYztBQUFBLGdDQUNEUixlQUFPbEIsY0FBUCxDQURDO0FBQUEsUUFDeEIyQixTQUR3Qix5QkFDeEJBLFNBRHdCO0FBQUEsUUFDYkMsT0FEYSx5QkFDYkEsT0FEYTtBQUVoQyx5QkFDQztBQUNDQyxNQUFBQSxTQUFTLEVBQUUsT0FBTyxFQURuQjtBQUVDSixNQUFBQSxDQUFDLEVBQUVBLENBRko7QUFHQ0ssTUFBQUEsS0FBSyxFQUFFSixDQUhSO0FBSUNLLE1BQUFBLENBQUMsRUFBRWxDLElBQUksQ0FBQ21DLFFBQUwsSUFBaUIsQ0FKckI7QUFLQ0MsTUFBQUEsQ0FBQyxFQUFFTixTQUxKO0FBTUNPLE1BQUFBLENBQUMsRUFBRU4sT0FOSjtBQU9DTyxNQUFBQSxTQUFTLEVBQUV0QyxJQUFJLENBQUNzQyxTQUFMLElBQWtCLElBUDlCO0FBUUNDLE1BQUFBLElBQUksRUFBRXZDLElBQUksQ0FBQ3VDLElBQUwsSUFBYSxDQVJwQjtBQVNDQyxNQUFBQSxFQUFFLEVBQUV2QyxTQUFTLENBQUNzQixPQVRmO0FBVUNrQixNQUFBQSxHQUFHLEVBQUU7QUFWTixLQURELEVBYUNkLEVBYkQ7QUFlQSxHQWpCRDs7QUFtQkEsTUFBTWUsWUFBWSxHQUFHLFNBQWZBLFlBQWUsR0FBTTtBQUMxQnRCLElBQUFBLGNBQWMsQ0FBQyxJQUFELENBQWQ7QUFDQVIsSUFBQUEsUUFBUSxDQUFDLElBQUQsQ0FBUjtBQUNBYyxJQUFBQSxVQUFVLENBQ1QsWUFBTTtBQUNMcEIsTUFBQUEsU0FBUyxDQUFDRyxXQUFELENBQVQ7QUFDQSxVQUFJLE9BQU9WLE9BQVAsS0FBbUIsVUFBdkIsRUFBbUNBLE9BQU8sQ0FBQzRDLElBQVIsQ0FBYSxJQUFiLEVBQW1CLElBQW5CO0FBQ25DLEtBSlEsRUFLVHRELFNBTFMsRUFNVDRCLGtCQU5TLENBQVY7QUFRQSxHQVhEOztBQWFBLE1BQU0yQixZQUFZLEdBQUcsU0FBZkEsWUFBZSxHQUFNO0FBQzFCaEMsSUFBQUEsUUFBUSxDQUFDLEtBQUQsQ0FBUjtBQUNBUSxJQUFBQSxjQUFjLENBQUMsS0FBRCxDQUFkO0FBRUFNLElBQUFBLFVBQVUsQ0FDVCxZQUFNO0FBQ0xwQixNQUFBQSxTQUFTLENBQUNDLFlBQUQsQ0FBVDtBQUNBLFVBQUksT0FBT1IsT0FBUCxLQUFtQixVQUF2QixFQUFtQ0EsT0FBTyxDQUFDNEMsSUFBUixDQUFhLElBQWIsRUFBbUIsS0FBbkI7QUFDbkMsS0FKUSxFQUtUMUIsa0JBTFMsRUFNVDVCLFNBTlMsQ0FBVjtBQVFBLEdBWkQ7O0FBY0EsTUFBTXdELFlBQVksR0FBRyxTQUFmQSxZQUFlLEdBQU07QUFDMUIsUUFBSWxDLElBQUosRUFBVTtBQUNUaUMsTUFBQUEsWUFBWTtBQUNaO0FBQ0E7O0FBRURGLElBQUFBLFlBQVk7QUFDWixHQVBEOztBQVNBLE1BQU1JLDBCQUEwQixHQUFHLFNBQTdCQSwwQkFBNkIsR0FBTTtBQUN4QyxRQUFJLENBQUM1QyxVQUFVLENBQUNxQixPQUFoQixFQUF5QixPQUFPLEtBQVA7QUFDekIsV0FBT04sa0JBQWtCLElBQUlaLE1BQTdCO0FBQ0EsR0FIRDs7QUFLQSxNQUFNMEMsWUFBWSxHQUFHLFNBQWZBLFlBQWUsR0FBTTtBQUMxQixRQUFJcEQsa0JBQWtCLElBQUksQ0FBQ3dCLFdBQTNCLEVBQXdDLE9BQU94QixrQkFBUDtBQUN4QyxXQUFPSyxJQUFJLENBQUN5QixRQUFaO0FBQ0EsR0FIRDs7QUFLQSxNQUFNdUIsU0FBUyxHQUFHLFNBQVpBLFNBQVksR0FBTTtBQUN2QixRQUFNQyxVQUFVLEdBQUdILDBCQUEwQixFQUE3Qzs7QUFDQSxRQUFJbEQsR0FBSixFQUFTO0FBQ1IsVUFBTXNELE1BQU0sR0FBR0MsZUFBTUMsWUFBTixDQUFtQnhELEdBQW5CLEVBQXdCO0FBQ3RDRyxRQUFBQSxPQUFPLEVBQUU4QztBQUQ2QixPQUF4QixDQUFmOztBQUdBLGFBQU9JLFVBQVUsR0FBRyxJQUFILEdBQVVDLE1BQTNCO0FBQ0E7O0FBRUQsV0FBT0QsVUFBVSxHQUFHLElBQUgsR0FDaEI7QUFDQyxNQUFBLE9BQU8sRUFBRUosWUFEVjtBQUVDLE1BQUEsU0FBUyxFQUFFaEQsWUFGWjtBQUdDLE1BQUEsS0FBSyxvQkFBT0MsU0FBUDtBQUhOLE9BS0VhLElBQUksR0FBR0ksYUFBSCxHQUFtQkYsUUFMekIsQ0FERDtBQVNBLEdBbEJEOztBQW9CQSxNQUFNd0MsVUFBVSxHQUFHLFNBQWJBLFVBQWEsR0FBTTtBQUN4QixRQUFJLENBQUNyRCxJQUFJLENBQUNzRCxJQUFWLEVBQWdCLE9BQU8sSUFBUDtBQUNoQixRQUFJUiwwQkFBMEIsRUFBOUIsRUFBa0MsT0FBTyxJQUFQO0FBRWxDLFFBQU1TLFlBQVksR0FBR3ZELElBQUksQ0FBQ3VELFlBQUwsSUFBcUIsd0JBQTFDO0FBQ0EsUUFBTUMsZUFBZSxHQUFHeEQsSUFBSSxDQUFDd0QsZUFBTCxJQUF3QixPQUFoRDtBQUNBLFFBQU1DLFVBQVUsR0FBR3pELElBQUksQ0FBQ3lELFVBQUwsSUFBbUJsRCxZQUFZLEdBQUcsQ0FBckQ7QUFFQSxXQUNDO0FBQ0MsTUFBQSxTQUFTLEVBQUMsZ0JBRFg7QUFFQyxNQUFBLEtBQUssRUFBRTtBQUNObUQsUUFBQUEsT0FBTyxFQUFFL0MsSUFBSSxHQUFHLENBQUgsR0FBTyxDQURkO0FBRU5nRCxRQUFBQSxLQUFLLEVBQUUsTUFGRDtBQUdOeEUsUUFBQUEsUUFBUSxFQUFFLFVBSEo7QUFJTmtCLFFBQUFBLE1BQU0sRUFBRW9ELFVBSkY7QUFLTkcsUUFBQUEsTUFBTSxFQUFFLENBTEY7QUFNTkMsUUFBQUEsZUFBZSx1Q0FBZ0NOLFlBQWhDLGVBQWlEQyxlQUFqRCxNQU5UO0FBT05NLFFBQUFBLFVBQVUsRUFBRTtBQVBOO0FBRlIsTUFERDtBQWNBLEdBdEJEOztBQXdCQSxTQUNDO0FBQUssSUFBQSxTQUFTLEVBQUMsbUJBQWY7QUFBbUMsSUFBQSxLQUFLLEVBQUU7QUFBRTNFLE1BQUFBLFFBQVEsRUFBRTtBQUFaO0FBQTFDLEtBQ0M7QUFDQyxJQUFBLFNBQVMsRUFBQyxxQkFEWDtBQUVDLElBQUEsR0FBRyxFQUFFYyxTQUZOO0FBR0MsSUFBQSxLQUFLO0FBQUlJLE1BQUFBLE1BQU0sRUFBTkE7QUFBSixPQUFlcEIsZUFBZSxFQUE5QjtBQUhOLEtBS0U4RCxZQUFZLEVBTGQsRUFNRU0sVUFBVSxFQU5aLENBREQsRUFTRUwsU0FBUyxFQVRYLEVBVUM7QUFDQyxJQUFBLFNBQVMsRUFBQywyQkFEWDtBQUVDLElBQUEsS0FBSyxFQUFFO0FBQ043RCxNQUFBQSxRQUFRLEVBQUUsVUFESjtBQUVONEUsTUFBQUEsR0FBRyxFQUFFLFNBRkM7QUFHTkMsTUFBQUEsSUFBSSxFQUFFLFNBSEE7QUFJTkwsTUFBQUEsS0FBSyxFQUFFO0FBSkQsS0FGUjtBQVFDLElBQUEsR0FBRyxFQUFFekQ7QUFSTixLQVVFRixJQUFJLENBQUN5QixRQVZQLENBVkQsQ0FERDtBQXlCQSxDQW5MRDs7QUFxTEFyQyxRQUFRLENBQUM2RSxTQUFULEdBQXFCO0FBQ3BCNUUsRUFBQUEsU0FBUyxFQUFFNkUsbUJBQVVDLFNBQVYsQ0FBb0IsQ0FBQ0QsbUJBQVVFLE1BQVgsRUFBbUJGLG1CQUFVRyxNQUE3QixDQUFwQixDQURTO0FBRXBCL0UsRUFBQUEsYUFBYSxFQUFFNEUsbUJBQVVDLFNBQVYsQ0FBb0IsQ0FBQ0QsbUJBQVVFLE1BQVgsRUFBbUJGLG1CQUFVRyxNQUE3QixDQUFwQixDQUZLO0FBR3BCOUUsRUFBQUEsT0FBTyxFQUFFMkUsbUJBQVVDLFNBQVYsQ0FBb0IsQ0FBQ0QsbUJBQVVFLE1BQVgsRUFBbUJGLG1CQUFVSSxPQUE3QixDQUFwQixDQUhXO0FBSXBCOUUsRUFBQUEsWUFBWSxFQUFFMEUsbUJBQVVDLFNBQVYsQ0FBb0IsQ0FBQ0QsbUJBQVVFLE1BQVgsRUFBbUJGLG1CQUFVSSxPQUE3QixDQUFwQixDQUpNO0FBS3BCM0UsRUFBQUEsa0JBQWtCLEVBQUV1RSxtQkFBVUMsU0FBVixDQUFvQixDQUN2Q0QsbUJBQVVFLE1BRDZCLEVBRXZDRixtQkFBVUksT0FGNkIsQ0FBcEIsQ0FMQTtBQVNwQjFFLEVBQUFBLEdBQUcsRUFBRXNFLG1CQUFVSSxPQVRLO0FBVXBCdkUsRUFBQUEsT0FBTyxFQUFFbUUsbUJBQVVLLElBVkM7QUFXcEI5QyxFQUFBQSxRQUFRLEVBQUV5QyxtQkFBVU0sSUFBVixDQUFlQyxVQVhMO0FBWXBCM0UsRUFBQUEsU0FBUyxFQUFFb0UsbUJBQVVRLE1BWkQ7QUFhcEI3RSxFQUFBQSxZQUFZLEVBQUVxRSxtQkFBVUUsTUFiSjtBQWNwQmQsRUFBQUEsSUFBSSxFQUFFWSxtQkFBVVMsSUFkSTtBQWVwQmxCLEVBQUFBLFVBQVUsRUFBRVMsbUJBQVVHLE1BZkY7QUFnQnBCYixFQUFBQSxlQUFlLEVBQUVVLG1CQUFVRSxNQWhCUDtBQWlCcEJiLEVBQUFBLFlBQVksRUFBRVcsbUJBQVVFLE1BakJKO0FBa0JwQjlCLEVBQUFBLFNBQVMsRUFBRTRCLG1CQUFVRyxNQWxCRDtBQW1CcEJoRCxFQUFBQSxNQUFNLEVBQUU2QyxtQkFBVVUsS0FBVixDQUFnQixDQUN2QixVQUR1QixFQUV2QixRQUZ1QixFQUd2QixRQUh1QixFQUl2QixPQUp1QixFQUt2QixNQUx1QixFQU12QixVQU51QixDQUFoQixDQW5CWTtBQTJCcEJyQyxFQUFBQSxJQUFJLEVBQUUyQixtQkFBVUcsTUEzQkk7QUE0QnBCbEMsRUFBQUEsUUFBUSxFQUFFK0IsbUJBQVVHLE1BNUJBO0FBNkJwQnZDLEVBQUFBLFNBQVMsRUFBRW9DLG1CQUFVRyxNQTdCRDtBQThCcEJ0QyxFQUFBQSxPQUFPLEVBQUVtQyxtQkFBVUc7QUE5QkMsQ0FBckI7ZUFpQ2VqRixRIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBhbmltYXRlLCBwcmVzZXQgfSBmcm9tICcuL2hlbHBlcnMvaGVscGVyJztcblxuY29uc3QgZ2V0RGVmYXVsdFN0eWxlID0gKCkgPT4ge1xuXHRyZXR1cm4ge1xuXHRcdG92ZXJmbG93OiAnaGlkZGVuJyxcblx0XHRwb3NpdGlvbjogJ3JlbGF0aXZlJ1xuXHR9O1xufTtcblxuY29uc3QgUmVhZE1vcmUgPSAoe1xuXHRtaW5IZWlnaHQsXG5cdGRpc3BsYXlIZWlnaHQsXG5cdGJ0blRleHQsXG5cdGJ0blRleHRTaG93bixcblx0dGltaW5nLFxuXHR0aW1pbmdGdW5jdGlvbixcblx0ZGVmYXVsdFNob3duT25MZXNzLFxuXHRidG4sXG5cdGJ0bkNsYXNzTmFtZSxcblx0YnRuU3R5bGVzLFxuXHRvbkNsaWNrLFxuXHQuLi5yZXN0XG59KSA9PiB7XG5cdGNvbnN0IGNvbnRhaW5lciA9IHVzZVJlZigpO1xuXHRjb25zdCBfY29udGFpbmVyID0gdXNlUmVmKCk7XG5cdGNvbnN0IFtzZWxlY3RlZFByZXNldCwgc2V0U2VsZWN0ZWRQcmVzZXRdID0gdXNlU3RhdGUoJ25vV29iYmxlJyk7XG5cdGNvbnN0IFtoZWlnaHQsIHNldEhlaWdodF0gPSB1c2VTdGF0ZSg1MCk7XG5cdGNvbnN0IFtiZWZvcmVIZWlnaHQsIHNldEJlZm9yZUhlaWdodF0gPSB1c2VTdGF0ZSg1MCk7XG5cdGNvbnN0IFtmaW5hbEhlaWdodCwgc2V0RmluYWxIZWlnaHRdID0gdXNlU3RhdGUoJ2F1dG8nKTtcblx0Y29uc3QgW3Nob3csIHNldFNob3duXSA9IHVzZVN0YXRlKGZhbHNlKTtcblx0Y29uc3QgW2J0bkxhYmVsLCBzZXRCdG5MYWJlbF0gPSB1c2VTdGF0ZSgnUmVhZCBNb3JlJyk7XG5cdGNvbnN0IFtidG5MYWJlbFNob3duLCBzZXRCdG5MYWJlbFNob3duXSA9IHVzZVN0YXRlKCdSZWFkIExlc3MnKTtcblx0Y29uc3QgW21heEF2YWlsYWJsZUhlaWdodCwgc2V0TWF4QXZhaWxhYmxlSGVpZ2h0XSA9IHVzZVN0YXRlKDApO1xuXHRjb25zdCBbc2hvd0NvbnRlbnQsIHNldFNob3dDb250ZW50XSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuXHR1c2VFZmZlY3QoKCkgPT4ge1xuXHRcdGlmIChtaW5IZWlnaHQpIHtcblx0XHRcdHNldEhlaWdodChtaW5IZWlnaHQpO1xuXHRcdFx0c2V0QmVmb3JlSGVpZ2h0KG1pbkhlaWdodCk7XG5cdFx0fVxuXHRcdGlmIChkaXNwbGF5SGVpZ2h0KSBzZXRGaW5hbEhlaWdodChkaXNwbGF5SGVpZ2h0KTtcblx0XHRpZiAoYnRuVGV4dCkgc2V0QnRuTGFiZWwoYnRuVGV4dCk7XG5cdFx0aWYgKGJ0blRleHRTaG93bikgc2V0QnRuTGFiZWxTaG93bihidG5UZXh0U2hvd24pO1xuXHRcdGlmIChwcmVzZXQuaGFzT3duUHJvcGVydHkocmVzdC5wcmVzZXQpKSBzZXRTZWxlY3RlZFByZXNldChyZXN0LnByZXNldCk7XG5cdH0sIFtidG5UZXh0LCBidG5UZXh0U2hvd24sIGRpc3BsYXlIZWlnaHQsIG1pbkhlaWdodCwgcmVzdC5wcmVzZXRdKTtcblxuXHR1c2VFZmZlY3QoKCkgPT4ge1xuXHRcdGlmIChfY29udGFpbmVyLmN1cnJlbnQuc2Nyb2xsSGVpZ2h0ID09PSAwKSByZXR1cm47XG5cdFx0aWYgKF9jb250YWluZXIuY3VycmVudC5zY3JvbGxIZWlnaHQgPT09IG1heEF2YWlsYWJsZUhlaWdodCkgcmV0dXJuO1xuXHRcdGlmIChyZXN0LmNoaWxkcmVuKSB7XG5cdFx0XHRzZXRNYXhBdmFpbGFibGVIZWlnaHQoX2NvbnRhaW5lci5jdXJyZW50LnNjcm9sbEhlaWdodCk7XG5cdFx0fVxuXHR9LCBbbWF4QXZhaWxhYmxlSGVpZ2h0LCByZXN0LmNoaWxkcmVuXSk7XG5cblx0Y29uc3QgYW5pbWF0ZU5vdyA9IChmbiwgeCwgWCkgPT4ge1xuXHRcdGNvbnN0IHsgc3RpZmZuZXNzLCBkYW1waW5nIH0gPSBwcmVzZXRbc2VsZWN0ZWRQcmVzZXRdO1xuXHRcdGFuaW1hdGUoXG5cdFx0XHR7XG5cdFx0XHRcdGZyYW1lUmF0ZTogMTAwMCAvIDYwLFxuXHRcdFx0XHR4OiB4LFxuXHRcdFx0XHRkZXN0WDogWCxcblx0XHRcdFx0djogcmVzdC52ZWxvY2l0eSB8fCAwLFxuXHRcdFx0XHRrOiBzdGlmZm5lc3MsXG5cdFx0XHRcdGI6IGRhbXBpbmcsXG5cdFx0XHRcdHByZWNpc2lvbjogcmVzdC5wcmVjaXNpb24gfHwgMC4wMSxcblx0XHRcdFx0bWFzczogcmVzdC5tYXNzIHx8IDEsXG5cdFx0XHRcdGVsOiBjb250YWluZXIuY3VycmVudCxcblx0XHRcdFx0a2V5OiAnaGVpZ2h0J1xuXHRcdFx0fSxcblx0XHRcdGZuXG5cdFx0KTtcblx0fTtcblxuXHRjb25zdCBzaG93Q29udGVudHMgPSAoKSA9PiB7XG5cdFx0c2V0U2hvd0NvbnRlbnQodHJ1ZSk7XG5cdFx0c2V0U2hvd24odHJ1ZSk7XG5cdFx0YW5pbWF0ZU5vdyhcblx0XHRcdCgpID0+IHtcblx0XHRcdFx0c2V0SGVpZ2h0KGZpbmFsSGVpZ2h0KTtcblx0XHRcdFx0aWYgKHR5cGVvZiBvbkNsaWNrID09PSAnZnVuY3Rpb24nKSBvbkNsaWNrLmNhbGwobnVsbCwgdHJ1ZSk7XG5cdFx0XHR9LFxuXHRcdFx0bWluSGVpZ2h0LFxuXHRcdFx0bWF4QXZhaWxhYmxlSGVpZ2h0XG5cdFx0KTtcblx0fTtcblxuXHRjb25zdCBoaWRlQ29udGVudHMgPSAoKSA9PiB7XG5cdFx0c2V0U2hvd24oZmFsc2UpO1xuXHRcdHNldFNob3dDb250ZW50KGZhbHNlKTtcblxuXHRcdGFuaW1hdGVOb3coXG5cdFx0XHQoKSA9PiB7XG5cdFx0XHRcdHNldEhlaWdodChiZWZvcmVIZWlnaHQpO1xuXHRcdFx0XHRpZiAodHlwZW9mIG9uQ2xpY2sgPT09ICdmdW5jdGlvbicpIG9uQ2xpY2suY2FsbChudWxsLCBmYWxzZSk7XG5cdFx0XHR9LFxuXHRcdFx0bWF4QXZhaWxhYmxlSGVpZ2h0LFxuXHRcdFx0bWluSGVpZ2h0XG5cdFx0KTtcblx0fTtcblxuXHRjb25zdCB0b2dnbGVIZWlnaHQgPSAoKSA9PiB7XG5cdFx0aWYgKHNob3cpIHtcblx0XHRcdGhpZGVDb250ZW50cygpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHNob3dDb250ZW50cygpO1xuXHR9O1xuXG5cdGNvbnN0IGNvbnRlbnRIYXNTYW1lSGVpZ2h0T3JMZXNzID0gKCkgPT4ge1xuXHRcdGlmICghX2NvbnRhaW5lci5jdXJyZW50KSByZXR1cm4gZmFsc2U7XG5cdFx0cmV0dXJuIG1heEF2YWlsYWJsZUhlaWdodCA8PSBoZWlnaHQ7XG5cdH07XG5cblx0Y29uc3Qgc2hvd0NoaWxkcmVuID0gKCkgPT4ge1xuXHRcdGlmIChkZWZhdWx0U2hvd25Pbkxlc3MgJiYgIXNob3dDb250ZW50KSByZXR1cm4gZGVmYXVsdFNob3duT25MZXNzO1xuXHRcdHJldHVybiByZXN0LmNoaWxkcmVuO1xuXHR9O1xuXG5cdGNvbnN0IHJlbmRlckJ0biA9ICgpID0+IHtcblx0XHRjb25zdCBzaG91bGRIaWRlID0gY29udGVudEhhc1NhbWVIZWlnaHRPckxlc3MoKTtcblx0XHRpZiAoYnRuKSB7XG5cdFx0XHRjb25zdCBuZXdCdG4gPSBSZWFjdC5jbG9uZUVsZW1lbnQoYnRuLCB7XG5cdFx0XHRcdG9uQ2xpY2s6IHRvZ2dsZUhlaWdodFxuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gc2hvdWxkSGlkZSA/IG51bGwgOiBuZXdCdG47XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHNob3VsZEhpZGUgPyBudWxsIDogKFxuXHRcdFx0PGJ1dHRvblxuXHRcdFx0XHRvbkNsaWNrPXt0b2dnbGVIZWlnaHR9XG5cdFx0XHRcdGNsYXNzTmFtZT17YnRuQ2xhc3NOYW1lfVxuXHRcdFx0XHRzdHlsZT17eyAuLi5idG5TdHlsZXMgfX1cblx0XHRcdD5cblx0XHRcdFx0e3Nob3cgPyBidG5MYWJlbFNob3duIDogYnRuTGFiZWx9XG5cdFx0XHQ8L2J1dHRvbj5cblx0XHQpO1xuXHR9O1xuXG5cdGNvbnN0IHJlbmRlckZhZGUgPSAoKSA9PiB7XG5cdFx0aWYgKCFyZXN0LmZhZGUpIHJldHVybiBudWxsO1xuXHRcdGlmIChjb250ZW50SGFzU2FtZUhlaWdodE9yTGVzcygpKSByZXR1cm4gbnVsbDtcblxuXHRcdGNvbnN0IGNvbG9yU3RvcFRvcCA9IHJlc3QuY29sb3JTdG9wVG9wIHx8ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDApJztcblx0XHRjb25zdCBjb2xvclN0b3BCb3R0b20gPSByZXN0LmNvbG9yU3RvcEJvdHRvbSB8fCAnd2hpdGUnO1xuXHRcdGNvbnN0IGZhZGVIZWlnaHQgPSByZXN0LmZhZGVIZWlnaHQgfHwgYmVmb3JlSGVpZ2h0IC8gMjtcblxuXHRcdHJldHVybiAoXG5cdFx0XHQ8ZGl2XG5cdFx0XHRcdGNsYXNzTmFtZT1cInJlYWRtb3JlLS1mYWRlXCJcblx0XHRcdFx0c3R5bGU9e3tcblx0XHRcdFx0XHRvcGFjaXR5OiBzaG93ID8gMCA6IDEsXG5cdFx0XHRcdFx0d2lkdGg6ICcxMDAlJyxcblx0XHRcdFx0XHRwb3NpdGlvbjogJ2Fic29sdXRlJyxcblx0XHRcdFx0XHRoZWlnaHQ6IGZhZGVIZWlnaHQsXG5cdFx0XHRcdFx0Ym90dG9tOiAwLFxuXHRcdFx0XHRcdGJhY2tncm91bmRJbWFnZTogYGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sICR7Y29sb3JTdG9wVG9wfSwgJHtjb2xvclN0b3BCb3R0b219KWAsXG5cdFx0XHRcdFx0dHJhbnNpdGlvbjogJ29wYWNpdHkgMjUwbXMgZWFzZS1pbidcblx0XHRcdFx0fX1cblx0XHRcdC8+XG5cdFx0KTtcblx0fTtcblxuXHRyZXR1cm4gKFxuXHRcdDxkaXYgY2xhc3NOYW1lPVwicmVhZG1vcmVfX3dyYXBwZXJcIiBzdHlsZT17eyBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9fT5cblx0XHRcdDxkaXZcblx0XHRcdFx0Y2xhc3NOYW1lPVwicmVhZG1vcmVfX2NvbnRhaW5lclwiXG5cdFx0XHRcdHJlZj17Y29udGFpbmVyfVxuXHRcdFx0XHRzdHlsZT17eyBoZWlnaHQsIC4uLmdldERlZmF1bHRTdHlsZSgpIH19XG5cdFx0XHQ+XG5cdFx0XHRcdHtzaG93Q2hpbGRyZW4oKX1cblx0XHRcdFx0e3JlbmRlckZhZGUoKX1cblx0XHRcdDwvZGl2PlxuXHRcdFx0e3JlbmRlckJ0bigpfVxuXHRcdFx0PGRpdlxuXHRcdFx0XHRjbGFzc05hbWU9XCJyZWFkZW1vcmVfX2hpZGRlbl9jb250ZW50XCJcblx0XHRcdFx0c3R5bGU9e3tcblx0XHRcdFx0XHRwb3NpdGlvbjogJ2Fic29sdXRlJyxcblx0XHRcdFx0XHR0b3A6ICctOTk5OXB4Jyxcblx0XHRcdFx0XHRsZWZ0OiAnLTk5OTlweCcsXG5cdFx0XHRcdFx0d2lkdGg6ICcxMDAlJ1xuXHRcdFx0XHR9fVxuXHRcdFx0XHRyZWY9e19jb250YWluZXJ9XG5cdFx0XHQ+XG5cdFx0XHRcdHtyZXN0LmNoaWxkcmVufVxuXHRcdFx0PC9kaXY+XG5cdFx0PC9kaXY+XG5cdCk7XG59O1xuXG5SZWFkTW9yZS5wcm9wVHlwZXMgPSB7XG5cdG1pbkhlaWdodDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm51bWJlcl0pLFxuXHRkaXNwbGF5SGVpZ2h0OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMubnVtYmVyXSksXG5cdGJ0blRleHQ6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5lbGVtZW50XSksXG5cdGJ0blRleHRTaG93bjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLmVsZW1lbnRdKSxcblx0ZGVmYXVsdFNob3duT25MZXNzOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcblx0XHRQcm9wVHlwZXMuc3RyaW5nLFxuXHRcdFByb3BUeXBlcy5lbGVtZW50XG5cdF0pLFxuXHRidG46IFByb3BUeXBlcy5lbGVtZW50LFxuXHRvbkNsaWNrOiBQcm9wVHlwZXMuZnVuYyxcblx0Y2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLmlzUmVxdWlyZWQsXG5cdGJ0blN0eWxlczogUHJvcFR5cGVzLm9iamVjdCxcblx0YnRuQ2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuXHRmYWRlOiBQcm9wVHlwZXMuYm9vbCxcblx0ZmFkZUhlaWdodDogUHJvcFR5cGVzLm51bWJlcixcblx0Y29sb3JTdG9wQm90dG9tOiBQcm9wVHlwZXMuc3RyaW5nLFxuXHRjb2xvclN0b3BUb3A6IFByb3BUeXBlcy5zdHJpbmcsXG5cdHByZWNpc2lvbjogUHJvcFR5cGVzLm51bWJlcixcblx0cHJlc2V0OiBQcm9wVHlwZXMub25lT2YoW1xuXHRcdCdub1dvYmJsZScsXG5cdFx0J3dvYmJseScsXG5cdFx0J2dlbnRsZScsXG5cdFx0J3N0aWZmJyxcblx0XHQnc2xvdycsXG5cdFx0J21vbGFzc2VzJ1xuXHRdKSxcblx0bWFzczogUHJvcFR5cGVzLm51bWJlcixcblx0dmVsb2NpdHk6IFByb3BUeXBlcy5udW1iZXIsXG5cdHN0aWZmbmVzczogUHJvcFR5cGVzLm51bWJlcixcblx0ZGFtcGluZzogUHJvcFR5cGVzLm51bWJlclxufTtcblxuZXhwb3J0IGRlZmF1bHQgUmVhZE1vcmU7XG4iXX0=