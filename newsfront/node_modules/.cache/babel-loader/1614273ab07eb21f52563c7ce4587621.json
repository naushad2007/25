{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _helper = require(\"./helpers/helper\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    keys.push.apply(keys, Object.getOwnPropertySymbols(object));\n  }\n\n  if (enumerableOnly) keys = keys.filter(function (sym) {\n    return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n  });\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar getDefaultStyle = function getDefaultStyle() {\n  return {\n    overflow: 'hidden',\n    position: 'relative',\n    border: 'none',\n    color: '#000000'\n  };\n};\n\nvar ReadMore = function ReadMore(_ref) {\n  var minHeight = _ref.minHeight,\n      displayHeight = _ref.displayHeight,\n      btnText = _ref.btnText,\n      btnTextShown = _ref.btnTextShown,\n      timing = _ref.timing,\n      timingFunction = _ref.timingFunction,\n      defaultShownOnLess = _ref.defaultShownOnLess,\n      btn = _ref.btn,\n      btnClassName = _ref.btnClassName,\n      btnStyles = _ref.btnStyles,\n      onClick = _ref.onClick,\n      rest = _objectWithoutProperties(_ref, [\"minHeight\", \"displayHeight\", \"btnText\", \"btnTextShown\", \"timing\", \"timingFunction\", \"defaultShownOnLess\", \"btn\", \"btnClassName\", \"btnStyles\", \"onClick\"]);\n\n  var container = (0, _react.useRef)();\n\n  var _container = (0, _react.useRef)();\n\n  var _useState = (0, _react.useState)('noWobble'),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedPreset = _useState2[0],\n      setSelectedPreset = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(50),\n      _useState4 = _slicedToArray(_useState3, 2),\n      height = _useState4[0],\n      setHeight = _useState4[1];\n\n  var _useState5 = (0, _react.useState)(50),\n      _useState6 = _slicedToArray(_useState5, 2),\n      beforeHeight = _useState6[0],\n      setBeforeHeight = _useState6[1];\n\n  var _useState7 = (0, _react.useState)('auto'),\n      _useState8 = _slicedToArray(_useState7, 2),\n      finalHeight = _useState8[0],\n      setFinalHeight = _useState8[1];\n\n  var _useState9 = (0, _react.useState)(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      show = _useState10[0],\n      setShown = _useState10[1];\n\n  var _useState11 = (0, _react.useState)(' ˅ '),\n      _useState12 = _slicedToArray(_useState11, 2),\n      btnLabel = _useState12[0],\n      setBtnLabel = _useState12[1];\n\n  var _useState13 = (0, _react.useState)(' ˄ '),\n      _useState14 = _slicedToArray(_useState13, 2),\n      btnLabelShown = _useState14[0],\n      setBtnLabelShown = _useState14[1];\n\n  var _useState15 = (0, _react.useState)(0),\n      _useState16 = _slicedToArray(_useState15, 2),\n      maxAvailableHeight = _useState16[0],\n      setMaxAvailableHeight = _useState16[1];\n\n  var _useState17 = (0, _react.useState)(false),\n      _useState18 = _slicedToArray(_useState17, 2),\n      showContent = _useState18[0],\n      setShowContent = _useState18[1];\n\n  (0, _react.useEffect)(function () {\n    if (minHeight) {\n      setHeight(minHeight);\n      setBeforeHeight(minHeight);\n    }\n\n    if (displayHeight) setFinalHeight(displayHeight);\n    if (btnText) setBtnLabel(btnText);\n    if (btnTextShown) setBtnLabelShown(btnTextShown);\n    if (_helper.preset.hasOwnProperty(rest.preset)) setSelectedPreset(rest.preset);\n  }, [btnText, btnTextShown, displayHeight, minHeight, rest.preset]);\n  (0, _react.useEffect)(function () {\n    if (_container.current.scrollHeight === 0) return;\n    if (_container.current.scrollHeight === maxAvailableHeight) return;\n\n    if (rest.children) {\n      setMaxAvailableHeight(_container.current.scrollHeight);\n    }\n  }, [maxAvailableHeight, rest.children]);\n\n  var animateNow = function animateNow(fn, x, X) {\n    var _preset$selectedPrese = _helper.preset[selectedPreset],\n        stiffness = _preset$selectedPrese.stiffness,\n        damping = _preset$selectedPrese.damping;\n    (0, _helper.animate)({\n      frameRate: 1000 / 60,\n      x: x,\n      destX: X,\n      v: rest.velocity || 0,\n      k: stiffness,\n      b: damping,\n      precision: rest.precision || 0.01,\n      mass: rest.mass || 1,\n      el: container.current,\n      key: 'height'\n    }, fn);\n  };\n\n  var showContents = function showContents() {\n    setShowContent(true);\n    setShown(true);\n    animateNow(function () {\n      setHeight(finalHeight);\n      if (typeof onClick === 'function') onClick.call(null, true);\n    }, minHeight, maxAvailableHeight);\n  };\n\n  var hideContents = function hideContents() {\n    setShown(false);\n    setShowContent(false);\n    animateNow(function () {\n      setHeight(beforeHeight);\n      if (typeof onClick === 'function') onClick.call(null, false);\n    }, maxAvailableHeight, minHeight);\n  };\n\n  var toggleHeight = function toggleHeight() {\n    if (show) {\n      hideContents();\n      return;\n    }\n\n    showContents();\n  };\n\n  var contentHasSameHeightOrLess = function contentHasSameHeightOrLess() {\n    if (!_container.current) return false;\n    return maxAvailableHeight <= height;\n  };\n\n  var showChildren = function showChildren() {\n    if (defaultShownOnLess && !showContent) return defaultShownOnLess;\n    return rest.children;\n  };\n\n  var renderBtn = function renderBtn() {\n    var shouldHide = contentHasSameHeightOrLess();\n\n    if (btn) {\n      var newBtn = _react.default.cloneElement(btn, {\n        onClick: toggleHeight\n      });\n\n      return shouldHide ? null : newBtn;\n    }\n\n    return shouldHide ? null : _react.default.createElement(\"button\", {\n      onClick: toggleHeight,\n      className: btnClassName,\n      style: _objectSpread({}, btnStyles)\n    }, show ? btnLabelShown : btnLabel);\n  };\n\n  var renderFade = function renderFade() {\n    if (!rest.fade) return null;\n    if (contentHasSameHeightOrLess()) return null;\n    var colorStopTop = rest.colorStopTop || 'rgba(255, 255, 255, 0)';\n    var colorStopBottom = rest.colorStopBottom || 'white';\n    var fadeHeight = rest.fadeHeight || beforeHeight / 2;\n    return _react.default.createElement(\"div\", {\n      className: \"readmore--fade\",\n      style: {\n        opacity: show ? 0 : 1,\n        width: '100%',\n        position: 'absolute',\n        height: fadeHeight,\n        bottom: 0,\n        backgroundImage: \"linear-gradient(to bottom, \".concat(colorStopTop, \", \").concat(colorStopBottom, \")\"),\n        transition: 'opacity 250ms ease-in'\n      }\n    });\n  };\n\n  return _react.default.createElement(\"div\", {\n    className: \"readmore__wrapper\",\n    style: {\n      position: 'relative'\n    }\n  }, _react.default.createElement(\"div\", {\n    className: \"readmore__container\",\n    ref: container,\n    style: _objectSpread({\n      height: height\n    }, getDefaultStyle())\n  }, showChildren(), renderFade()), renderBtn(), _react.default.createElement(\"div\", {\n    className: \"reademore__hidden_content\",\n    style: {\n      position: 'absolute',\n      top: '-9999px',\n      left: '-9999px',\n      width: '100%'\n    },\n    ref: _container\n  }, rest.children));\n};\n\nReadMore.propTypes = {\n  minHeight: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  displayHeight: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  btnText: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.element]),\n  btnTextShown: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.element]),\n  defaultShownOnLess: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.element]),\n  btn: _propTypes.default.element,\n  onClick: _propTypes.default.func,\n  children: _propTypes.default.node.isRequired,\n  btnStyles: _propTypes.default.object,\n  btnClassName: _propTypes.default.string,\n  fade: _propTypes.default.bool,\n  fadeHeight: _propTypes.default.number,\n  colorStopBottom: _propTypes.default.string,\n  colorStopTop: _propTypes.default.string,\n  precision: _propTypes.default.number,\n  preset: _propTypes.default.oneOf(['noWobble', 'wobbly', 'gentle', 'stiff', 'slow', 'molasses']),\n  mass: _propTypes.default.number,\n  velocity: _propTypes.default.number,\n  stiffness: _propTypes.default.number,\n  damping: _propTypes.default.number\n};\nvar _default = ReadMore;\nexports.default = _default;","map":{"version":3,"sources":["../src/ReadMore/index.js"],"names":["getDefaultStyle","overflow","position","displayHeight","btnText","btnTextShown","timing","timingFunction","defaultShownOnLess","btn","btnClassName","btnStyles","onClick","rest","container","_container","selectedPreset","setSelectedPreset","beforeHeight","setBeforeHeight","finalHeight","setFinalHeight","setBtnLabel","btnLabelShown","setBtnLabelShown","maxAvailableHeight","setMaxAvailableHeight","showContent","setShowContent","setHeight","preset","hasOwnProperty","children","animateNow","stiffness","damping","frameRate","x","v","k","b","precision","mass","el","current","key","setShown","minHeight","hideContents","showContents","contentHasSameHeightOrLess","colorStopTop","colorStopBottom","fadeHeight","opacity","width","height","bottom","backgroundImage","transition","showChildren","top","left","ReadMore","PropTypes","element","func","fade","velocity","number"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { animate, preset } from './helpers/helper';\n\nconst getDefaultStyle = () => {\n\treturn {\n\t\toverflow: 'hidden',\n\t\tposition: 'relative'\n\t};\n};\n\nconst ReadMore = ({\n\tminHeight,\n\tdisplayHeight,\n\tbtnText,\n\tbtnTextShown,\n\ttiming,\n\ttimingFunction,\n\tdefaultShownOnLess,\n\tbtn,\n\tbtnClassName,\n\tbtnStyles,\n\tonClick,\n\t...rest\n}) => {\n\tconst container = useRef();\n\tconst _container = useRef();\n\tconst [selectedPreset, setSelectedPreset] = useState('noWobble');\n\tconst [height, setHeight] = useState(50);\n\tconst [beforeHeight, setBeforeHeight] = useState(50);\n\tconst [finalHeight, setFinalHeight] = useState('auto');\n\tconst [show, setShown] = useState(false);\n\tconst [btnLabel, setBtnLabel] = useState('Read More');\n\tconst [btnLabelShown, setBtnLabelShown] = useState('Read Less');\n\tconst [maxAvailableHeight, setMaxAvailableHeight] = useState(0);\n\tconst [showContent, setShowContent] = useState(false);\n\n\tuseEffect(() => {\n\t\tif (minHeight) {\n\t\t\tsetHeight(minHeight);\n\t\t\tsetBeforeHeight(minHeight);\n\t\t}\n\t\tif (displayHeight) setFinalHeight(displayHeight);\n\t\tif (btnText) setBtnLabel(btnText);\n\t\tif (btnTextShown) setBtnLabelShown(btnTextShown);\n\t\tif (preset.hasOwnProperty(rest.preset)) setSelectedPreset(rest.preset);\n\t}, [btnText, btnTextShown, displayHeight, minHeight, rest.preset]);\n\n\tuseEffect(() => {\n\t\tif (_container.current.scrollHeight === 0) return;\n\t\tif (_container.current.scrollHeight === maxAvailableHeight) return;\n\t\tif (rest.children) {\n\t\t\tsetMaxAvailableHeight(_container.current.scrollHeight);\n\t\t}\n\t}, [maxAvailableHeight, rest.children]);\n\n\tconst animateNow = (fn, x, X) => {\n\t\tconst { stiffness, damping } = preset[selectedPreset];\n\t\tanimate(\n\t\t\t{\n\t\t\t\tframeRate: 1000 / 60,\n\t\t\t\tx: x,\n\t\t\t\tdestX: X,\n\t\t\t\tv: rest.velocity || 0,\n\t\t\t\tk: stiffness,\n\t\t\t\tb: damping,\n\t\t\t\tprecision: rest.precision || 0.01,\n\t\t\t\tmass: rest.mass || 1,\n\t\t\t\tel: container.current,\n\t\t\t\tkey: 'height'\n\t\t\t},\n\t\t\tfn\n\t\t);\n\t};\n\n\tconst showContents = () => {\n\t\tsetShowContent(true);\n\t\tsetShown(true);\n\t\tanimateNow(\n\t\t\t() => {\n\t\t\t\tsetHeight(finalHeight);\n\t\t\t\tif (typeof onClick === 'function') onClick.call(null, true);\n\t\t\t},\n\t\t\tminHeight,\n\t\t\tmaxAvailableHeight\n\t\t);\n\t};\n\n\tconst hideContents = () => {\n\t\tsetShown(false);\n\t\tsetShowContent(false);\n\n\t\tanimateNow(\n\t\t\t() => {\n\t\t\t\tsetHeight(beforeHeight);\n\t\t\t\tif (typeof onClick === 'function') onClick.call(null, false);\n\t\t\t},\n\t\t\tmaxAvailableHeight,\n\t\t\tminHeight\n\t\t);\n\t};\n\n\tconst toggleHeight = () => {\n\t\tif (show) {\n\t\t\thideContents();\n\t\t\treturn;\n\t\t}\n\n\t\tshowContents();\n\t};\n\n\tconst contentHasSameHeightOrLess = () => {\n\t\tif (!_container.current) return false;\n\t\treturn maxAvailableHeight <= height;\n\t};\n\n\tconst showChildren = () => {\n\t\tif (defaultShownOnLess && !showContent) return defaultShownOnLess;\n\t\treturn rest.children;\n\t};\n\n\tconst renderBtn = () => {\n\t\tconst shouldHide = contentHasSameHeightOrLess();\n\t\tif (btn) {\n\t\t\tconst newBtn = React.cloneElement(btn, {\n\t\t\t\tonClick: toggleHeight\n\t\t\t});\n\t\t\treturn shouldHide ? null : newBtn;\n\t\t}\n\n\t\treturn shouldHide ? null : (\n\t\t\t<button\n\t\t\t\tonClick={toggleHeight}\n\t\t\t\tclassName={btnClassName}\n\t\t\t\tstyle={{ ...btnStyles }}\n\t\t\t>\n\t\t\t\t{show ? btnLabelShown : btnLabel}\n\t\t\t</button>\n\t\t);\n\t};\n\n\tconst renderFade = () => {\n\t\tif (!rest.fade) return null;\n\t\tif (contentHasSameHeightOrLess()) return null;\n\n\t\tconst colorStopTop = rest.colorStopTop || 'rgba(255, 255, 255, 0)';\n\t\tconst colorStopBottom = rest.colorStopBottom || 'white';\n\t\tconst fadeHeight = rest.fadeHeight || beforeHeight / 2;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"readmore--fade\"\n\t\t\t\tstyle={{\n\t\t\t\t\topacity: show ? 0 : 1,\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\theight: fadeHeight,\n\t\t\t\t\tbottom: 0,\n\t\t\t\t\tbackgroundImage: `linear-gradient(to bottom, ${colorStopTop}, ${colorStopBottom})`,\n\t\t\t\t\ttransition: 'opacity 250ms ease-in'\n\t\t\t\t}}\n\t\t\t/>\n\t\t);\n\t};\n\n\treturn (\n\t\t<div className=\"readmore__wrapper\" style={{ position: 'relative' }}>\n\t\t\t<div\n\t\t\t\tclassName=\"readmore__container\"\n\t\t\t\tref={container}\n\t\t\t\tstyle={{ height, ...getDefaultStyle() }}\n\t\t\t>\n\t\t\t\t{showChildren()}\n\t\t\t\t{renderFade()}\n\t\t\t</div>\n\t\t\t{renderBtn()}\n\t\t\t<div\n\t\t\t\tclassName=\"reademore__hidden_content\"\n\t\t\t\tstyle={{\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\ttop: '-9999px',\n\t\t\t\t\tleft: '-9999px',\n\t\t\t\t\twidth: '100%'\n\t\t\t\t}}\n\t\t\t\tref={_container}\n\t\t\t>\n\t\t\t\t{rest.children}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nReadMore.propTypes = {\n\tminHeight: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\tdisplayHeight: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\tbtnText: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n\tbtnTextShown: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n\tdefaultShownOnLess: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.element\n\t]),\n\tbtn: PropTypes.element,\n\tonClick: PropTypes.func,\n\tchildren: PropTypes.node.isRequired,\n\tbtnStyles: PropTypes.object,\n\tbtnClassName: PropTypes.string,\n\tfade: PropTypes.bool,\n\tfadeHeight: PropTypes.number,\n\tcolorStopBottom: PropTypes.string,\n\tcolorStopTop: PropTypes.string,\n\tprecision: PropTypes.number,\n\tpreset: PropTypes.oneOf([\n\t\t'noWobble',\n\t\t'wobbly',\n\t\t'gentle',\n\t\t'stiff',\n\t\t'slow',\n\t\t'molasses'\n\t]),\n\tmass: PropTypes.number,\n\tvelocity: PropTypes.number,\n\tstiffness: PropTypes.number,\n\tdamping: PropTypes.number\n};\n\nexport default ReadMore;\n"]},"metadata":{},"sourceType":"script"}