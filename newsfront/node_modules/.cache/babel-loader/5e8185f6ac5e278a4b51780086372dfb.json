{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\loren\\\\OneDrive\\\\\\u684C\\u9762\\\\hw8\\\\newsfront\\\\src\\\\context.jsx\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nexport const Context = React.createContext();\nexport class Provider extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      // guardianCheckd: true,\n      news_list: [] // tab: \"/\",\n      // tabChange: (tabName) => {\n      //   if (tabName === \"/\") {\n      //     axios\n      //       .get(\"/home\")\n      //       .then((res) => {\n      //         console.log(res.data);\n      //         this.setState({\n      //           news_list: res.data,\n      //         });\n      //       })\n      //       .catch((err) => console.log(err));\n      //   }\n      //   if (this.state.tab !== tabName) {\n      //     this.setState(\n      //       {\n      //         tab: tabName,\n      //       },\n      //       () => {\n      //         console.log(this.state.tab);\n      //         axios\n      //           .get(this.state.tab)\n      //           .then((res) => {\n      //             console.log(res.data);\n      //             this.setState({\n      //               news_list: res.data,\n      //             });\n      //             // console.log(this.state.news_list);\n      //           })\n      //           .catch((err) => console.log(err));\n      //       }\n      //     );\n      //   }\n      // },\n\n    };\n  }\n\n  componentDidMount() {\n    // console.log(typeof localStorage.getItem(\"guardianChecked\"));\n    if (localStorage.getItem(\"guardianChecked\") === \"true\") {\n      // guardian\n      // http://nodejsapp-csci571xiaomingniu.us-east-1.elasticbeanstalk.com/\n      axios.get(`http://ec2-18-205-29-119.compute-1.amazonaws.com:4000${localStorage.getItem(\"tabName\")}`, {\n        headers: {\n          guardianChecked: 1\n        }\n      }).then(res => {\n        console.log(res.data);\n        this.setState({\n          news_list: res.data\n        }); // console.log(this.state.news_list);\n      }).catch(err => console.log(err));\n    } else {\n      // ny times\n      // http://nodejsapp-csci571xiaomingniu.us-east-1.elasticbeanstalk.com/\n      console.log(\"send request to nyt\");\n      axios.get(`http://nodejsapp-csci571xiaomingniu.us-east-1.elasticbeanstalk.com${localStorage.getItem(\"tabName\")}`, {\n        headers: {\n          guardianChecked: 2\n        }\n      }).then(res => {\n        console.log(res.data);\n        this.setState({\n          news_list: res.data\n        }); // console.log(this.state.news_list);\n      }).catch(err => console.log(err));\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Context.Provider, {\n      value: this.state,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 7\n      }\n    }, this.props.children);\n  }\n\n}\nexport const Consumer = Context.Consumer; // ---------------------------------------------\n// import React, { Component } from \"react\";\n// import axios from \"axios\";\n// export const Context = React.createContext();\n// export class Provider extends Component {\n//   state = {\n//     // guardianCheckd: true,\n//     news_list: [],\n//     tab: \"/\",\n//     tabChange: (tabName) => {\n//       if (tabName === \"/\") {\n//         axios\n//           .get(\"/home\")\n//           .then((res) => {\n//             console.log(res.data);\n//             this.setState({\n//               news_list: res.data,\n//             });\n//           })\n//           .catch((err) => console.log(err));\n//       }\n//       if (this.state.tab !== tabName) {\n//         this.setState(\n//           {\n//             tab: tabName,\n//           },\n//           () => {\n//             console.log(this.state.tab);\n//             axios\n//               .get(this.state.tab)\n//               .then((res) => {\n//                 console.log(res.data);\n//                 this.setState({\n//                   news_list: res.data,\n//                 });\n//                 // console.log(this.state.news_list);\n//               })\n//               .catch((err) => console.log(err));\n//           }\n//         );\n//       }\n//     },\n//   };\n//   render() {\n//     return (\n//       <Context.Provider value={this.state}>\n//         {this.props.children}\n//       </Context.Provider>\n//     );\n//   }\n// }\n// export const Consumer = Context.Consumer;","map":{"version":3,"sources":["C:/Users/loren/OneDrive/桌面/hw8/newsfront/src/context.jsx"],"names":["React","Component","axios","Context","createContext","Provider","state","news_list","componentDidMount","localStorage","getItem","get","headers","guardianChecked","then","res","console","log","data","setState","catch","err","render","props","children","Consumer"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,OAAO,GAAGH,KAAK,CAACI,aAAN,EAAhB;AAEP,OAAO,MAAMC,QAAN,SAAuBJ,SAAvB,CAAiC;AAAA;AAAA;AAAA,SACtCK,KADsC,GAC9B;AACN;AACAC,MAAAA,SAAS,EAAE,EAFL,CAGN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AApCM,KAD8B;AAAA;;AAuCtCC,EAAAA,iBAAiB,GAAG;AAClB;AACA,QAAIC,YAAY,CAACC,OAAb,CAAqB,iBAArB,MAA4C,MAAhD,EAAwD;AACtD;AACA;AACAR,MAAAA,KAAK,CACFS,GADH,CAEK,wDAAuDF,YAAY,CAACC,OAAb,CACtD,SADsD,CAEtD,EAJN,EAKI;AACEE,QAAAA,OAAO,EAAE;AACPC,UAAAA,eAAe,EAAE;AADV;AADX,OALJ,EAWGC,IAXH,CAWSC,GAAD,IAAS;AACbC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACA,aAAKC,QAAL,CAAc;AACZZ,UAAAA,SAAS,EAAEQ,GAAG,CAACG;AADH,SAAd,EAFa,CAKb;AACD,OAjBH,EAkBGE,KAlBH,CAkBUC,GAAD,IAASL,OAAO,CAACC,GAAR,CAAYI,GAAZ,CAlBlB;AAmBD,KAtBD,MAsBO;AACL;AACA;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACAf,MAAAA,KAAK,CACFS,GADH,CAEK,qEAAoEF,YAAY,CAACC,OAAb,CACnE,SADmE,CAEnE,EAJN,EAKI;AACEE,QAAAA,OAAO,EAAE;AACPC,UAAAA,eAAe,EAAE;AADV;AADX,OALJ,EAWGC,IAXH,CAWSC,GAAD,IAAS;AACbC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACA,aAAKC,QAAL,CAAc;AACZZ,UAAAA,SAAS,EAAEQ,GAAG,CAACG;AADH,SAAd,EAFa,CAKb;AACD,OAjBH,EAkBGE,KAlBH,CAkBUC,GAAD,IAASL,OAAO,CAACC,GAAR,CAAYI,GAAZ,CAlBlB;AAmBD;AACF;;AAEDC,EAAAA,MAAM,GAAG;AACP,wBACE,oBAAC,OAAD,CAAS,QAAT;AAAkB,MAAA,KAAK,EAAE,KAAKhB,KAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKiB,KAAL,CAAWC,QADd,CADF;AAKD;;AA/FqC;AAkGxC,OAAO,MAAMC,QAAQ,GAAGtB,OAAO,CAACsB,QAAzB,C,CACP;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport const Context = React.createContext();\r\n\r\nexport class Provider extends Component {\r\n  state = {\r\n    // guardianCheckd: true,\r\n    news_list: [],\r\n    // tab: \"/\",\r\n    // tabChange: (tabName) => {\r\n    //   if (tabName === \"/\") {\r\n    //     axios\r\n    //       .get(\"/home\")\r\n    //       .then((res) => {\r\n    //         console.log(res.data);\r\n    //         this.setState({\r\n    //           news_list: res.data,\r\n    //         });\r\n    //       })\r\n    //       .catch((err) => console.log(err));\r\n    //   }\r\n    //   if (this.state.tab !== tabName) {\r\n    //     this.setState(\r\n    //       {\r\n    //         tab: tabName,\r\n    //       },\r\n    //       () => {\r\n    //         console.log(this.state.tab);\r\n    //         axios\r\n    //           .get(this.state.tab)\r\n    //           .then((res) => {\r\n    //             console.log(res.data);\r\n    //             this.setState({\r\n    //               news_list: res.data,\r\n    //             });\r\n    //             // console.log(this.state.news_list);\r\n    //           })\r\n    //           .catch((err) => console.log(err));\r\n    //       }\r\n    //     );\r\n    //   }\r\n    // },\r\n  };\r\n  componentDidMount() {\r\n    // console.log(typeof localStorage.getItem(\"guardianChecked\"));\r\n    if (localStorage.getItem(\"guardianChecked\") === \"true\") {\r\n      // guardian\r\n      // http://nodejsapp-csci571xiaomingniu.us-east-1.elasticbeanstalk.com/\r\n      axios\r\n        .get(\r\n          `http://ec2-18-205-29-119.compute-1.amazonaws.com:4000${localStorage.getItem(\r\n            \"tabName\"\r\n          )}`,\r\n          {\r\n            headers: {\r\n              guardianChecked: 1,\r\n            },\r\n          }\r\n        )\r\n        .then((res) => {\r\n          console.log(res.data);\r\n          this.setState({\r\n            news_list: res.data,\r\n          });\r\n          // console.log(this.state.news_list);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    } else {\r\n      // ny times\r\n      // http://nodejsapp-csci571xiaomingniu.us-east-1.elasticbeanstalk.com/\r\n      console.log(\"send request to nyt\");\r\n      axios\r\n        .get(\r\n          `http://nodejsapp-csci571xiaomingniu.us-east-1.elasticbeanstalk.com${localStorage.getItem(\r\n            \"tabName\"\r\n          )}`,\r\n          {\r\n            headers: {\r\n              guardianChecked: 2,\r\n            },\r\n          }\r\n        )\r\n        .then((res) => {\r\n          console.log(res.data);\r\n          this.setState({\r\n            news_list: res.data,\r\n          });\r\n          // console.log(this.state.news_list);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Context.Provider value={this.state}>\r\n        {this.props.children}\r\n      </Context.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport const Consumer = Context.Consumer;\r\n// ---------------------------------------------\r\n\r\n// import React, { Component } from \"react\";\r\n// import axios from \"axios\";\r\n\r\n// export const Context = React.createContext();\r\n\r\n// export class Provider extends Component {\r\n//   state = {\r\n//     // guardianCheckd: true,\r\n//     news_list: [],\r\n//     tab: \"/\",\r\n//     tabChange: (tabName) => {\r\n//       if (tabName === \"/\") {\r\n//         axios\r\n//           .get(\"/home\")\r\n//           .then((res) => {\r\n//             console.log(res.data);\r\n//             this.setState({\r\n//               news_list: res.data,\r\n//             });\r\n//           })\r\n//           .catch((err) => console.log(err));\r\n//       }\r\n//       if (this.state.tab !== tabName) {\r\n//         this.setState(\r\n//           {\r\n//             tab: tabName,\r\n//           },\r\n//           () => {\r\n//             console.log(this.state.tab);\r\n//             axios\r\n//               .get(this.state.tab)\r\n//               .then((res) => {\r\n//                 console.log(res.data);\r\n//                 this.setState({\r\n//                   news_list: res.data,\r\n//                 });\r\n//                 // console.log(this.state.news_list);\r\n//               })\r\n//               .catch((err) => console.log(err));\r\n//           }\r\n//         );\r\n//       }\r\n//     },\r\n//   };\r\n\r\n//   render() {\r\n//     return (\r\n//       <Context.Provider value={this.state}>\r\n//         {this.props.children}\r\n//       </Context.Provider>\r\n//     );\r\n//   }\r\n// }\r\n\r\n// export const Consumer = Context.Consumer;\r\n"]},"metadata":{},"sourceType":"module"}