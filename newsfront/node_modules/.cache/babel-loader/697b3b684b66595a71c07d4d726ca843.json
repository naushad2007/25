{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\loren\\\\OneDrive\\\\\\u684C\\u9762\\\\hw8\\\\newsfront\\\\src\\\\context.jsx\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nexport const Context = React.createContext();\nexport class Provider extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      // guardianCheckd: true,\n      news_list: [] // tab: \"/\",\n      // tabChange: (tabName) => {\n      //   if (tabName === \"/\") {\n      //     axios\n      //       .get(\"/home\")\n      //       .then((res) => {\n      //         console.log(res.data);\n      //         this.setState({\n      //           news_list: res.data,\n      //         });\n      //       })\n      //       .catch((err) => console.log(err));\n      //   }\n      //   if (this.state.tab !== tabName) {\n      //     this.setState(\n      //       {\n      //         tab: tabName,\n      //       },\n      //       () => {\n      //         console.log(this.state.tab);\n      //         axios\n      //           .get(this.state.tab)\n      //           .then((res) => {\n      //             console.log(res.data);\n      //             this.setState({\n      //               news_list: res.data,\n      //             });\n      //             // console.log(this.state.news_list);\n      //           })\n      //           .catch((err) => console.log(err));\n      //       }\n      //     );\n      //   }\n      // },\n\n    };\n  }\n\n  componentDidMount() {\n    if (localStorage.getItem(\"guardianChecked\")) {\n      // guardan\n      axios.get(localStorage.getItem(\"tabName\"), {\n        guardianChecked: true\n      }).then(res => {\n        console.log(res.data);\n        this.setState({\n          news_list: res.data\n        }); // console.log(this.state.news_list);\n      }).catch(err => console.log(err));\n    } else {\n      // ny times\n      axios.get(localStorage.getItem(\"tabName\")).then(res => {\n        console.log(res.data);\n        this.setState({\n          news_list: res.data\n        }); // console.log(this.state.news_list);\n      }).catch(err => console.log(err));\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Context.Provider, {\n      value: this.state,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 7\n      }\n    }, this.props.children);\n  }\n\n}\nexport const Consumer = Context.Consumer; // ---------------------------------------------\n// import React, { Component } from \"react\";\n// import axios from \"axios\";\n// export const Context = React.createContext();\n// export class Provider extends Component {\n//   state = {\n//     // guardianCheckd: true,\n//     news_list: [],\n//     tab: \"/\",\n//     tabChange: (tabName) => {\n//       if (tabName === \"/\") {\n//         axios\n//           .get(\"/home\")\n//           .then((res) => {\n//             console.log(res.data);\n//             this.setState({\n//               news_list: res.data,\n//             });\n//           })\n//           .catch((err) => console.log(err));\n//       }\n//       if (this.state.tab !== tabName) {\n//         this.setState(\n//           {\n//             tab: tabName,\n//           },\n//           () => {\n//             console.log(this.state.tab);\n//             axios\n//               .get(this.state.tab)\n//               .then((res) => {\n//                 console.log(res.data);\n//                 this.setState({\n//                   news_list: res.data,\n//                 });\n//                 // console.log(this.state.news_list);\n//               })\n//               .catch((err) => console.log(err));\n//           }\n//         );\n//       }\n//     },\n//   };\n//   render() {\n//     return (\n//       <Context.Provider value={this.state}>\n//         {this.props.children}\n//       </Context.Provider>\n//     );\n//   }\n// }\n// export const Consumer = Context.Consumer;","map":{"version":3,"sources":["C:/Users/loren/OneDrive/桌面/hw8/newsfront/src/context.jsx"],"names":["React","Component","axios","Context","createContext","Provider","state","news_list","componentDidMount","localStorage","getItem","get","guardianChecked","then","res","console","log","data","setState","catch","err","render","props","children","Consumer"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,OAAO,GAAGH,KAAK,CAACI,aAAN,EAAhB;AAEP,OAAO,MAAMC,QAAN,SAAuBJ,SAAvB,CAAiC;AAAA;AAAA;AAAA,SACtCK,KADsC,GAC9B;AACN;AACAC,MAAAA,SAAS,EAAE,EAFL,CAGN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AApCM,KAD8B;AAAA;;AAuCtCC,EAAAA,iBAAiB,GAAG;AAClB,QAAIC,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAJ,EAA6C;AAC3C;AACAR,MAAAA,KAAK,CACFS,GADH,CACOF,YAAY,CAACC,OAAb,CAAqB,SAArB,CADP,EACwC;AACpCE,QAAAA,eAAe,EAAE;AADmB,OADxC,EAIGC,IAJH,CAISC,GAAD,IAAS;AACbC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACA,aAAKC,QAAL,CAAc;AACZX,UAAAA,SAAS,EAAEO,GAAG,CAACG;AADH,SAAd,EAFa,CAKb;AACD,OAVH,EAWGE,KAXH,CAWUC,GAAD,IAASL,OAAO,CAACC,GAAR,CAAYI,GAAZ,CAXlB;AAYD,KAdD,MAcO;AACL;AACAlB,MAAAA,KAAK,CACFS,GADH,CACOF,YAAY,CAACC,OAAb,CAAqB,SAArB,CADP,EAEGG,IAFH,CAESC,GAAD,IAAS;AACbC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACA,aAAKC,QAAL,CAAc;AACZX,UAAAA,SAAS,EAAEO,GAAG,CAACG;AADH,SAAd,EAFa,CAKb;AACD,OARH,EASGE,KATH,CASUC,GAAD,IAASL,OAAO,CAACC,GAAR,CAAYI,GAAZ,CATlB;AAUD;AACF;;AAEDC,EAAAA,MAAM,GAAG;AACP,wBACE,oBAAC,OAAD,CAAS,QAAT;AAAkB,MAAA,KAAK,EAAE,KAAKf,KAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKgB,KAAL,CAAWC,QADd,CADF;AAKD;;AA3EqC;AA8ExC,OAAO,MAAMC,QAAQ,GAAGrB,OAAO,CAACqB,QAAzB,C,CACP;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport const Context = React.createContext();\r\n\r\nexport class Provider extends Component {\r\n  state = {\r\n    // guardianCheckd: true,\r\n    news_list: [],\r\n    // tab: \"/\",\r\n    // tabChange: (tabName) => {\r\n    //   if (tabName === \"/\") {\r\n    //     axios\r\n    //       .get(\"/home\")\r\n    //       .then((res) => {\r\n    //         console.log(res.data);\r\n    //         this.setState({\r\n    //           news_list: res.data,\r\n    //         });\r\n    //       })\r\n    //       .catch((err) => console.log(err));\r\n    //   }\r\n    //   if (this.state.tab !== tabName) {\r\n    //     this.setState(\r\n    //       {\r\n    //         tab: tabName,\r\n    //       },\r\n    //       () => {\r\n    //         console.log(this.state.tab);\r\n    //         axios\r\n    //           .get(this.state.tab)\r\n    //           .then((res) => {\r\n    //             console.log(res.data);\r\n    //             this.setState({\r\n    //               news_list: res.data,\r\n    //             });\r\n    //             // console.log(this.state.news_list);\r\n    //           })\r\n    //           .catch((err) => console.log(err));\r\n    //       }\r\n    //     );\r\n    //   }\r\n    // },\r\n  };\r\n  componentDidMount() {\r\n    if (localStorage.getItem(\"guardianChecked\")) {\r\n      // guardan\r\n      axios\r\n        .get(localStorage.getItem(\"tabName\"), {\r\n          guardianChecked: true,\r\n        })\r\n        .then((res) => {\r\n          console.log(res.data);\r\n          this.setState({\r\n            news_list: res.data,\r\n          });\r\n          // console.log(this.state.news_list);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    } else {\r\n      // ny times\r\n      axios\r\n        .get(localStorage.getItem(\"tabName\"))\r\n        .then((res) => {\r\n          console.log(res.data);\r\n          this.setState({\r\n            news_list: res.data,\r\n          });\r\n          // console.log(this.state.news_list);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Context.Provider value={this.state}>\r\n        {this.props.children}\r\n      </Context.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport const Consumer = Context.Consumer;\r\n// ---------------------------------------------\r\n\r\n// import React, { Component } from \"react\";\r\n// import axios from \"axios\";\r\n\r\n// export const Context = React.createContext();\r\n\r\n// export class Provider extends Component {\r\n//   state = {\r\n//     // guardianCheckd: true,\r\n//     news_list: [],\r\n//     tab: \"/\",\r\n//     tabChange: (tabName) => {\r\n//       if (tabName === \"/\") {\r\n//         axios\r\n//           .get(\"/home\")\r\n//           .then((res) => {\r\n//             console.log(res.data);\r\n//             this.setState({\r\n//               news_list: res.data,\r\n//             });\r\n//           })\r\n//           .catch((err) => console.log(err));\r\n//       }\r\n//       if (this.state.tab !== tabName) {\r\n//         this.setState(\r\n//           {\r\n//             tab: tabName,\r\n//           },\r\n//           () => {\r\n//             console.log(this.state.tab);\r\n//             axios\r\n//               .get(this.state.tab)\r\n//               .then((res) => {\r\n//                 console.log(res.data);\r\n//                 this.setState({\r\n//                   news_list: res.data,\r\n//                 });\r\n//                 // console.log(this.state.news_list);\r\n//               })\r\n//               .catch((err) => console.log(err));\r\n//           }\r\n//         );\r\n//       }\r\n//     },\r\n//   };\r\n\r\n//   render() {\r\n//     return (\r\n//       <Context.Provider value={this.state}>\r\n//         {this.props.children}\r\n//       </Context.Provider>\r\n//     );\r\n//   }\r\n// }\r\n\r\n// export const Consumer = Context.Consumer;\r\n"]},"metadata":{},"sourceType":"module"}