{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\loren\\\\OneDrive\\\\\\u684C\\u9762\\\\hw8\\\\newsfront\\\\src\\\\components\\\\layouts\\\\SearchPage.jsx\";\nimport React, { Component } from \"react\";\nimport SearchBlock from \"./SearchBlock\";\nimport queryString from \"query-string\";\nimport axios from \"axios\";\nexport default class SearchPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      searchList: []\n    };\n  }\n\n  componentDidMount() {\n    const value = queryString.parse(this.props.location.search);\n    const q = value.q;\n    console.log(value);\n    axios.get(`/search`).then(res => {\n      this.setState({\n        searchList: res.data\n      });\n      console.log(res.data);\n    }).catch(err => console.log(err));\n  }\n\n  render() {\n    const {\n      searchList\n    } = this.state;\n\n    if (searchList.length != 0) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 9\n        }\n      }, searchList.map(item => {\n        /*#__PURE__*/\n        React.createElement(SearchBlock, {\n          searchList: searchList,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 13\n          }\n        });\n      }));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"spinner-border\",\n        role: \"status\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"sr-only\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 13\n        }\n      }, \"Loading...\")));\n    }\n  }\n\n}","map":{"version":3,"sources":["C:/Users/loren/OneDrive/桌面/hw8/newsfront/src/components/layouts/SearchPage.jsx"],"names":["React","Component","SearchBlock","queryString","axios","SearchPage","state","searchList","componentDidMount","value","parse","props","location","search","q","console","log","get","then","res","setState","data","catch","err","render","length","map","item"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,WAAP,MAAwB,cAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe,MAAMC,UAAN,SAAyBJ,SAAzB,CAAmC;AAAA;AAAA;AAAA,SAChDK,KADgD,GACxC;AACNC,MAAAA,UAAU,EAAE;AADN,KADwC;AAAA;;AAKhDC,EAAAA,iBAAiB,GAAG;AAClB,UAAMC,KAAK,GAAGN,WAAW,CAACO,KAAZ,CAAkB,KAAKC,KAAL,CAAWC,QAAX,CAAoBC,MAAtC,CAAd;AACA,UAAMC,CAAC,GAAGL,KAAK,CAACK,CAAhB;AAEAC,IAAAA,OAAO,CAACC,GAAR,CAAYP,KAAZ;AACAL,IAAAA,KAAK,CACFa,GADH,CACQ,SADR,EAEGC,IAFH,CAESC,GAAD,IAAS;AACb,WAAKC,QAAL,CAAc;AACZb,QAAAA,UAAU,EAAEY,GAAG,CAACE;AADJ,OAAd;AAGAN,MAAAA,OAAO,CAACC,GAAR,CAAYG,GAAG,CAACE,IAAhB;AACD,KAPH,EAQGC,KARH,CAQUC,GAAD,IAASR,OAAO,CAACC,GAAR,CAAYO,GAAZ,CARlB;AASD;;AACDC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEjB,MAAAA;AAAF,QAAiB,KAAKD,KAA5B;;AACA,QAAIC,UAAU,CAACkB,MAAX,IAAqB,CAAzB,EAA4B;AAC1B,0BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGlB,UAAU,CAACmB,GAAX,CAAgBC,IAAD,IAAU;AACxB;AAAA,4BAAC,WAAD;AAAa,UAAA,UAAU,EAAEpB,UAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACD,OAFA,CADH,CADF;AAOD,KARD,MAQO;AACL,0BACE;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAgC,QAAA,IAAI,EAAC,QAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAM,QAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,CADF,CADF;AAOD;AACF;;AAvC+C","sourcesContent":["import React, { Component } from \"react\";\r\nimport SearchBlock from \"./SearchBlock\";\r\nimport queryString from \"query-string\";\r\nimport axios from \"axios\";\r\n\r\nexport default class SearchPage extends Component {\r\n  state = {\r\n    searchList: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    const value = queryString.parse(this.props.location.search);\r\n    const q = value.q;\r\n\r\n    console.log(value);\r\n    axios\r\n      .get(`/search`)\r\n      .then((res) => {\r\n        this.setState({\r\n          searchList: res.data,\r\n        });\r\n        console.log(res.data);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n  render() {\r\n    const { searchList } = this.state;\r\n    if (searchList.length != 0) {\r\n      return (\r\n        <div>\r\n          {searchList.map((item) => {\r\n            <SearchBlock searchList={searchList} />;\r\n          })}\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div className=\"text-center\">\r\n          <div className=\"spinner-border\" role=\"status\">\r\n            <span className=\"sr-only\">Loading...</span>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}