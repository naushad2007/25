{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _helper = require(\"./helpers/helper\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    keys.push.apply(keys, Object.getOwnPropertySymbols(object));\n  }\n\n  if (enumerableOnly) keys = keys.filter(function (sym) {\n    return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n  });\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar getDefaultStyle = function getDefaultStyle() {\n  return {\n    overflow: 'hidden',\n    position: 'relative'\n  };\n};\n\nvar ReadMore = function ReadMore(_ref) {\n  var minHeight = _ref.minHeight,\n      displayHeight = _ref.displayHeight,\n      btnText = _ref.btnText,\n      btnTextShown = _ref.btnTextShown,\n      timing = _ref.timing,\n      timingFunction = _ref.timingFunction,\n      defaultShownOnLess = _ref.defaultShownOnLess,\n      btn = _ref.btn,\n      btnClassName = _ref.btnClassName,\n      btnStyles = _ref.btnStyles,\n      onClick = _ref.onClick,\n      rest = _objectWithoutProperties(_ref, [\"minHeight\", \"displayHeight\", \"btnText\", \"btnTextShown\", \"timing\", \"timingFunction\", \"defaultShownOnLess\", \"btn\", \"btnClassName\", \"btnStyles\", \"onClick\"]);\n\n  var container = (0, _react.useRef)();\n\n  var _container = (0, _react.useRef)();\n\n  var _useState = (0, _react.useState)('noWobble'),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedPreset = _useState2[0],\n      setSelectedPreset = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(50),\n      _useState4 = _slicedToArray(_useState3, 2),\n      height = _useState4[0],\n      setHeight = _useState4[1];\n\n  var _useState5 = (0, _react.useState)(50),\n      _useState6 = _slicedToArray(_useState5, 2),\n      beforeHeight = _useState6[0],\n      setBeforeHeight = _useState6[1];\n\n  var _useState7 = (0, _react.useState)('auto'),\n      _useState8 = _slicedToArray(_useState7, 2),\n      finalHeight = _useState8[0],\n      setFinalHeight = _useState8[1];\n\n  var _useState9 = (0, _react.useState)(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      show = _useState10[0],\n      setShown = _useState10[1];\n\n  var _useState11 = (0, _react.useState)(' ˅ '),\n      _useState12 = _slicedToArray(_useState11, 2),\n      btnLabel = _useState12[0],\n      setBtnLabel = _useState12[1];\n\n  var _useState13 = (0, _react.useState)(' ˄ '),\n      _useState14 = _slicedToArray(_useState13, 2),\n      btnLabelShown = _useState14[0],\n      setBtnLabelShown = _useState14[1];\n\n  var _useState15 = (0, _react.useState)(0),\n      _useState16 = _slicedToArray(_useState15, 2),\n      maxAvailableHeight = _useState16[0],\n      setMaxAvailableHeight = _useState16[1];\n\n  var _useState17 = (0, _react.useState)(false),\n      _useState18 = _slicedToArray(_useState17, 2),\n      showContent = _useState18[0],\n      setShowContent = _useState18[1];\n\n  (0, _react.useEffect)(function () {\n    if (minHeight) {\n      setHeight(minHeight);\n      setBeforeHeight(minHeight);\n    }\n\n    if (displayHeight) setFinalHeight(displayHeight);\n    if (btnText) setBtnLabel(btnText);\n    if (btnTextShown) setBtnLabelShown(btnTextShown);\n    if (_helper.preset.hasOwnProperty(rest.preset)) setSelectedPreset(rest.preset);\n  }, [btnText, btnTextShown, displayHeight, minHeight, rest.preset]);\n  (0, _react.useEffect)(function () {\n    if (_container.current.scrollHeight === 0) return;\n    if (_container.current.scrollHeight === maxAvailableHeight) return;\n\n    if (rest.children) {\n      setMaxAvailableHeight(_container.current.scrollHeight);\n    }\n  }, [maxAvailableHeight, rest.children]);\n\n  var animateNow = function animateNow(fn, x, X) {\n    var _preset$selectedPrese = _helper.preset[selectedPreset],\n        stiffness = _preset$selectedPrese.stiffness,\n        damping = _preset$selectedPrese.damping;\n    (0, _helper.animate)({\n      frameRate: 1000 / 60,\n      x: x,\n      destX: X,\n      v: rest.velocity || 0,\n      k: stiffness,\n      b: damping,\n      precision: rest.precision || 0.01,\n      mass: rest.mass || 1,\n      el: container.current,\n      key: 'height'\n    }, fn);\n  };\n\n  var showContents = function showContents() {\n    setShowContent(true);\n    setShown(true);\n    animateNow(function () {\n      setHeight(finalHeight);\n      if (typeof onClick === 'function') onClick.call(null, true);\n    }, minHeight, maxAvailableHeight);\n  };\n\n  var hideContents = function hideContents() {\n    setShown(false);\n    setShowContent(false);\n    animateNow(function () {\n      setHeight(beforeHeight);\n      if (typeof onClick === 'function') onClick.call(null, false);\n    }, maxAvailableHeight, minHeight);\n  };\n\n  var toggleHeight = function toggleHeight() {\n    if (show) {\n      hideContents();\n      return;\n    }\n\n    showContents();\n  };\n\n  var contentHasSameHeightOrLess = function contentHasSameHeightOrLess() {\n    if (!_container.current) return false;\n    return maxAvailableHeight <= height;\n  };\n\n  var showChildren = function showChildren() {\n    if (defaultShownOnLess && !showContent) return defaultShownOnLess;\n    return rest.children;\n  };\n\n  var renderBtn = function renderBtn() {\n    var shouldHide = contentHasSameHeightOrLess();\n\n    if (btn) {\n      var newBtn = _react.default.cloneElement(btn, {\n        onClick: toggleHeight\n      });\n\n      return shouldHide ? null : newBtn;\n    }\n\n    return shouldHide ? null : _react.default.createElement(\"button\", {\n      onClick: toggleHeight,\n      className: btnClassName,\n      style: _objectSpread({}, btnStyles)\n    }, show ? btnLabelShown : btnLabel);\n  };\n\n  var renderFade = function renderFade() {\n    if (!rest.fade) return null;\n    if (contentHasSameHeightOrLess()) return null;\n    var colorStopTop = rest.colorStopTop || 'rgba(255, 255, 255, 0)';\n    var colorStopBottom = rest.colorStopBottom || 'white';\n    var fadeHeight = rest.fadeHeight || beforeHeight / 2;\n    return _react.default.createElement(\"div\", {\n      className: \"readmore--fade\",\n      style: {\n        opacity: show ? 0 : 1,\n        width: '100%',\n        position: 'absolute',\n        height: fadeHeight,\n        bottom: 0,\n        backgroundImage: \"linear-gradient(to bottom, \".concat(colorStopTop, \", \").concat(colorStopBottom, \")\"),\n        transition: 'opacity 250ms ease-in'\n      }\n    });\n  };\n\n  return _react.default.createElement(\"div\", {\n    className: \"readmore__wrapper\",\n    style: {\n      position: 'relative'\n    }\n  }, _react.default.createElement(\"div\", {\n    className: \"readmore__container\",\n    ref: container,\n    style: _objectSpread({\n      height: height\n    }, getDefaultStyle())\n  }, showChildren(), renderFade()), renderBtn(), _react.default.createElement(\"div\", {\n    className: \"reademore__hidden_content\",\n    style: {\n      position: 'absolute',\n      top: '-9999px',\n      left: '-9999px',\n      width: '100%'\n    },\n    ref: _container\n  }, rest.children));\n};\n\nReadMore.propTypes = {\n  minHeight: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  displayHeight: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  btnText: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.element]),\n  btnTextShown: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.element]),\n  defaultShownOnLess: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.element]),\n  btn: _propTypes.default.element,\n  onClick: _propTypes.default.func,\n  children: _propTypes.default.node.isRequired,\n  btnStyles: _propTypes.default.object,\n  btnClassName: _propTypes.default.string,\n  fade: _propTypes.default.bool,\n  fadeHeight: _propTypes.default.number,\n  colorStopBottom: _propTypes.default.string,\n  colorStopTop: _propTypes.default.string,\n  precision: _propTypes.default.number,\n  preset: _propTypes.default.oneOf(['noWobble', 'wobbly', 'gentle', 'stiff', 'slow', 'molasses']),\n  mass: _propTypes.default.number,\n  velocity: _propTypes.default.number,\n  stiffness: _propTypes.default.number,\n  damping: _propTypes.default.number\n};\nvar _default = ReadMore;\nexports.default = _default;","map":{"version":3,"sources":["../src/ReadMore/index.js"],"names":["getDefaultStyle","overflow","position","ReadMore","minHeight","displayHeight","btnText","btnTextShown","timing","timingFunction","defaultShownOnLess","btn","btnClassName","btnStyles","onClick","rest","container","_container","selectedPreset","setSelectedPreset","height","setHeight","beforeHeight","setBeforeHeight","finalHeight","setFinalHeight","show","setShown","btnLabel","setBtnLabel","btnLabelShown","setBtnLabelShown","maxAvailableHeight","setMaxAvailableHeight","showContent","setShowContent","preset","animateNow","stiffness","damping","frameRate","x","destX","v","k","b","precision","mass","el","key","showContents","hideContents","toggleHeight","contentHasSameHeightOrLess","showChildren","renderBtn","shouldHide","newBtn","renderFade","colorStopTop","colorStopBottom","fadeHeight","opacity","width","bottom","backgroundImage","transition","top","left","PropTypes","children","fade","velocity","number"],"mappings":";;;;;;;AAAA,IAAA,MAAA,GAAA,uBAAA,CAAA,OAAA,CAAA,OAAA,CAAA,CAAA;;AACA,IAAA,UAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,YAAA,CAAA,CAAA;;AACA,IAAA,OAAA,GAAA,OAAA,CAAA,kBAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC7B,SAAO;AACNC,IAAAA,QAAQ,EADF,QAAA;AAENC,IAAAA,QAAQ,EAAE;AAFJ,GAAP;AADD,CAAA;;AAOA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAA,IAAA,EAaX;AAAA,MAZLC,SAYK,GAAA,IAAA,CAZLA,SAYK;AAAA,MAXLC,aAWK,GAAA,IAAA,CAXLA,aAWK;AAAA,MAVLC,OAUK,GAAA,IAAA,CAVLA,OAUK;AAAA,MATLC,YASK,GAAA,IAAA,CATLA,YASK;AAAA,MARLC,MAQK,GAAA,IAAA,CARLA,MAQK;AAAA,MAPLC,cAOK,GAAA,IAAA,CAPLA,cAOK;AAAA,MANLC,kBAMK,GAAA,IAAA,CANLA,kBAMK;AAAA,MALLC,GAKK,GAAA,IAAA,CALLA,GAKK;AAAA,MAJLC,YAIK,GAAA,IAAA,CAJLA,YAIK;AAAA,MAHLC,SAGK,GAAA,IAAA,CAHLA,SAGK;AAAA,MAFLC,OAEK,GAAA,IAAA,CAFLA,OAEK;AAAA,MADFC,IACE,GAAA,wBAAA,CAAA,IAAA,EAAA,CAAA,WAAA,EAAA,eAAA,EAAA,SAAA,EAAA,cAAA,EAAA,QAAA,EAAA,gBAAA,EAAA,oBAAA,EAAA,KAAA,EAAA,cAAA,EAAA,WAAA,EAAA,SAAA,CAAA,CAAA;;AACL,MAAMC,SAAS,GAAG,CAAA,GAAA,MAAA,CAAlB,MAAkB,GAAlB;;AACA,MAAMC,UAAU,GAAG,CAAA,GAAA,MAAA,CAAnB,MAAmB,GAAnB;;AAFK,MAAA,SAAA,GAGuC,CAAA,GAAA,MAAA,CAAA,QAAA,EAHvC,UAGuC,CAHvC;AAAA,MAAA,UAAA,GAAA,cAAA,CAAA,SAAA,EAAA,CAAA,CAAA;AAAA,MAGEC,cAHF,GAAA,UAAA,CAAA,CAAA,CAAA;AAAA,MAGkBC,iBAHlB,GAAA,UAAA,CAAA,CAAA,CAAA;;AAAA,MAAA,UAAA,GAIuB,CAAA,GAAA,MAAA,CAAA,QAAA,EAJvB,EAIuB,CAJvB;AAAA,MAAA,UAAA,GAAA,cAAA,CAAA,UAAA,EAAA,CAAA,CAAA;AAAA,MAIEC,MAJF,GAAA,UAAA,CAAA,CAAA,CAAA;AAAA,MAIUC,SAJV,GAAA,UAAA,CAAA,CAAA,CAAA;;AAAA,MAAA,UAAA,GAKmC,CAAA,GAAA,MAAA,CAAA,QAAA,EALnC,EAKmC,CALnC;AAAA,MAAA,UAAA,GAAA,cAAA,CAAA,UAAA,EAAA,CAAA,CAAA;AAAA,MAKEC,YALF,GAAA,UAAA,CAAA,CAAA,CAAA;AAAA,MAKgBC,eALhB,GAAA,UAAA,CAAA,CAAA,CAAA;;AAAA,MAAA,UAAA,GAMiC,CAAA,GAAA,MAAA,CAAA,QAAA,EANjC,MAMiC,CANjC;AAAA,MAAA,UAAA,GAAA,cAAA,CAAA,UAAA,EAAA,CAAA,CAAA;AAAA,MAMEC,WANF,GAAA,UAAA,CAAA,CAAA,CAAA;AAAA,MAMeC,cANf,GAAA,UAAA,CAAA,CAAA,CAAA;;AAAA,MAAA,UAAA,GAOoB,CAAA,GAAA,MAAA,CAAA,QAAA,EAPpB,KAOoB,CAPpB;AAAA,MAAA,WAAA,GAAA,cAAA,CAAA,UAAA,EAAA,CAAA,CAAA;AAAA,MAOEC,IAPF,GAAA,WAAA,CAAA,CAAA,CAAA;AAAA,MAOQC,QAPR,GAAA,WAAA,CAAA,CAAA,CAAA;;AAAA,MAAA,WAAA,GAQ2B,CAAA,GAAA,MAAA,CAAA,QAAA,EAR3B,KAQ2B,CAR3B;AAAA,MAAA,WAAA,GAAA,cAAA,CAAA,WAAA,EAAA,CAAA,CAAA;AAAA,MAQEC,QARF,GAAA,WAAA,CAAA,CAAA,CAAA;AAAA,MAQYC,WARZ,GAAA,WAAA,CAAA,CAAA,CAAA;;AAAA,MAAA,WAAA,GASqC,CAAA,GAAA,MAAA,CAAA,QAAA,EATrC,KASqC,CATrC;AAAA,MAAA,WAAA,GAAA,cAAA,CAAA,WAAA,EAAA,CAAA,CAAA;AAAA,MASEC,aATF,GAAA,WAAA,CAAA,CAAA,CAAA;AAAA,MASiBC,gBATjB,GAAA,WAAA,CAAA,CAAA,CAAA;;AAAA,MAAA,WAAA,GAU+C,CAAA,GAAA,MAAA,CAAA,QAAA,EAV/C,CAU+C,CAV/C;AAAA,MAAA,WAAA,GAAA,cAAA,CAAA,WAAA,EAAA,CAAA,CAAA;AAAA,MAUEC,kBAVF,GAAA,WAAA,CAAA,CAAA,CAAA;AAAA,MAUsBC,qBAVtB,GAAA,WAAA,CAAA,CAAA,CAAA;;AAAA,MAAA,WAAA,GAWiC,CAAA,GAAA,MAAA,CAAA,QAAA,EAXjC,KAWiC,CAXjC;AAAA,MAAA,WAAA,GAAA,cAAA,CAAA,WAAA,EAAA,CAAA,CAAA;AAAA,MAWEC,WAXF,GAAA,WAAA,CAAA,CAAA,CAAA;AAAA,MAWeC,cAXf,GAAA,WAAA,CAAA,CAAA,CAAA;;AAaL,GAAA,GAAA,MAAA,CAAA,SAAA,EAAU,YAAM;AACf,QAAA,SAAA,EAAe;AACdd,MAAAA,SAAS,CAATA,SAAS,CAATA;AACAE,MAAAA,eAAe,CAAfA,SAAe,CAAfA;AACA;;AACD,QAAA,aAAA,EAAmBE,cAAc,CAAdA,aAAc,CAAdA;AACnB,QAAA,OAAA,EAAaI,WAAW,CAAXA,OAAW,CAAXA;AACb,QAAA,YAAA,EAAkBE,gBAAgB,CAAhBA,YAAgB,CAAhBA;AAClB,QAAIK,OAAAA,CAAAA,MAAAA,CAAAA,cAAAA,CAAsBrB,IAAI,CAA9B,MAAIqB,CAAJ,EAAwCjB,iBAAiB,CAACJ,IAAI,CAAtBI,MAAiB,CAAjBA;AARzC,GAAA,EASG,CAAA,OAAA,EAAA,YAAA,EAAA,aAAA,EAAA,SAAA,EAAkDJ,IAAI,CATzD,MASG,CATH;AAWA,GAAA,GAAA,MAAA,CAAA,SAAA,EAAU,YAAM;AACf,QAAIE,UAAU,CAAVA,OAAAA,CAAAA,YAAAA,KAAJ,CAAA,EAA2C;AAC3C,QAAIA,UAAU,CAAVA,OAAAA,CAAAA,YAAAA,KAAJ,kBAAA,EAA4D;;AAC5D,QAAIF,IAAI,CAAR,QAAA,EAAmB;AAClBkB,MAAAA,qBAAqB,CAAChB,UAAU,CAAVA,OAAAA,CAAtBgB,YAAqB,CAArBA;AACA;AALF,GAAA,EAMG,CAAA,kBAAA,EAAqBlB,IAAI,CAN5B,QAMG,CANH;;AAQA,MAAMsB,UAAU,GAAG,SAAbA,UAAa,CAAA,EAAA,EAAA,CAAA,EAAA,CAAA,EAAc;AAAA,QAAA,qBAAA,GACDD,OAAAA,CAAAA,MAAAA,CADC,cACDA,CADC;AAAA,QACxBE,SADwB,GAAA,qBAAA,CAAA,SAAA;AAAA,QACbC,OADa,GAAA,qBAAA,CAAA,OAAA;AAEhC,KAAA,GAAA,OAAA,CAAA,OAAA,EACC;AACCC,MAAAA,SAAS,EAAE,OADZ,EAAA;AAECC,MAAAA,CAAC,EAFF,CAAA;AAGCC,MAAAA,KAAK,EAHN,CAAA;AAICC,MAAAA,CAAC,EAAE5B,IAAI,CAAJA,QAAAA,IAJJ,CAAA;AAKC6B,MAAAA,CAAC,EALF,SAAA;AAMCC,MAAAA,CAAC,EANF,OAAA;AAOCC,MAAAA,SAAS,EAAE/B,IAAI,CAAJA,SAAAA,IAPZ,IAAA;AAQCgC,MAAAA,IAAI,EAAEhC,IAAI,CAAJA,IAAAA,IARP,CAAA;AASCiC,MAAAA,EAAE,EAAEhC,SAAS,CATd,OAAA;AAUCiC,MAAAA,GAAG,EAAE;AAVN,KADD,EAAA,EAAA;AAFD,GAAA;;AAmBA,MAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AAC1Bf,IAAAA,cAAc,CAAdA,IAAc,CAAdA;AACAR,IAAAA,QAAQ,CAARA,IAAQ,CAARA;AACAU,IAAAA,UAAU,CACT,YAAM;AACLhB,MAAAA,SAAS,CAATA,WAAS,CAATA;AACA,UAAI,OAAA,OAAA,KAAJ,UAAA,EAAmCP,OAAO,CAAPA,IAAAA,CAAAA,IAAAA,EAAAA,IAAAA;AAH3B,KAAA,EAAA,SAAA,EAAVuB,kBAAU,CAAVA;AAHD,GAAA;;AAaA,MAAMc,YAAY,GAAG,SAAfA,YAAe,GAAM;AAC1BxB,IAAAA,QAAQ,CAARA,KAAQ,CAARA;AACAQ,IAAAA,cAAc,CAAdA,KAAc,CAAdA;AAEAE,IAAAA,UAAU,CACT,YAAM;AACLhB,MAAAA,SAAS,CAATA,YAAS,CAATA;AACA,UAAI,OAAA,OAAA,KAAJ,UAAA,EAAmCP,OAAO,CAAPA,IAAAA,CAAAA,IAAAA,EAAAA,KAAAA;AAH3B,KAAA,EAAA,kBAAA,EAAVuB,SAAU,CAAVA;AAJD,GAAA;;AAcA,MAAMe,YAAY,GAAG,SAAfA,YAAe,GAAM;AAC1B,QAAA,IAAA,EAAU;AACTD,MAAAA,YAAY;AACZ;AACA;;AAEDD,IAAAA,YAAY;AANb,GAAA;;AASA,MAAMG,0BAA0B,GAAG,SAA7BA,0BAA6B,GAAM;AACxC,QAAI,CAACpC,UAAU,CAAf,OAAA,EAAyB,OAAA,KAAA;AACzB,WAAOe,kBAAkB,IAAzB,MAAA;AAFD,GAAA;;AAKA,MAAMsB,YAAY,GAAG,SAAfA,YAAe,GAAM;AAC1B,QAAI5C,kBAAkB,IAAI,CAA1B,WAAA,EAAwC,OAAA,kBAAA;AACxC,WAAOK,IAAI,CAAX,QAAA;AAFD,GAAA;;AAKA,MAAMwC,SAAS,GAAG,SAAZA,SAAY,GAAM;AACvB,QAAMC,UAAU,GAAGH,0BAAnB,EAAA;;AACA,QAAA,GAAA,EAAS;AACR,UAAMI,MAAM,GAAG,MAAA,CAAA,OAAA,CAAA,YAAA,CAAA,GAAA,EAAwB;AACtC3C,QAAAA,OAAO,EAAEsC;AAD6B,OAAxB,CAAf;;AAGA,aAAOI,UAAU,GAAA,IAAA,GAAjB,MAAA;AACA;;AAED,WAAOA,UAAU,GAAA,IAAA,GAChB,MAAA,CAAA,OAAA,CAAA,aAAA,CAAA,QAAA,EAAA;AACC,MAAA,OAAO,EADR,YAAA;AAEC,MAAA,SAAS,EAFV,YAAA;AAGC,MAAA,KAAK,EAAA,aAAA,CAAA,EAAA,EAAA,SAAA;AAHN,KAAA,EAKE9B,IAAI,GAAA,aAAA,GANP,QACC,CADD;AATD,GAAA;;AAoBA,MAAMgC,UAAU,GAAG,SAAbA,UAAa,GAAM;AACxB,QAAI,CAAC3C,IAAI,CAAT,IAAA,EAAgB,OAAA,IAAA;AAChB,QAAIsC,0BAAJ,EAAA,EAAkC,OAAA,IAAA;AAElC,QAAMM,YAAY,GAAG5C,IAAI,CAAJA,YAAAA,IAArB,wBAAA;AACA,QAAM6C,eAAe,GAAG7C,IAAI,CAAJA,eAAAA,IAAxB,OAAA;AACA,QAAM8C,UAAU,GAAG9C,IAAI,CAAJA,UAAAA,IAAmBO,YAAY,GAAlD,CAAA;AAEA,WACC,MAAA,CAAA,OAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AACC,MAAA,SAAS,EADV,gBAAA;AAEC,MAAA,KAAK,EAAE;AACNwC,QAAAA,OAAO,EAAEpC,IAAI,GAAA,CAAA,GADP,CAAA;AAENqC,QAAAA,KAAK,EAFC,MAAA;AAGN7D,QAAAA,QAAQ,EAHF,UAAA;AAINkB,QAAAA,MAAM,EAJA,UAAA;AAKN4C,QAAAA,MAAM,EALA,CAAA;AAMNC,QAAAA,eAAe,EAAA,8BAAA,MAAA,CAAA,YAAA,EAAA,IAAA,EAAA,MAAA,CAAA,eAAA,EANT,GAMS,CANT;AAONC,QAAAA,UAAU,EAAE;AAPN;AAFR,KAAA,CADD;AARD,GAAA;;AAwBA,SACC,MAAA,CAAA,OAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAd,mBAAA;AAAmC,IAAA,KAAK,EAAE;AAAEhE,MAAAA,QAAQ,EAAE;AAAZ;AAA1C,GAAA,EACC,MAAA,CAAA,OAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AACC,IAAA,SAAS,EADV,qBAAA;AAEC,IAAA,GAAG,EAFJ,SAAA;AAGC,IAAA,KAAK,EAAA,aAAA,CAAA;AAAIkB,MAAAA,MAAM,EAANA;AAAJ,KAAA,EAAepB,eAAf,EAAA;AAHN,GAAA,EAKEsD,YALF,EAAA,EAMEI,UAPH,EACC,CADD,EASEH,SATF,EAAA,EAUC,MAAA,CAAA,OAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AACC,IAAA,SAAS,EADV,2BAAA;AAEC,IAAA,KAAK,EAAE;AACNrD,MAAAA,QAAQ,EADF,UAAA;AAENiE,MAAAA,GAAG,EAFG,SAAA;AAGNC,MAAAA,IAAI,EAHE,SAAA;AAINL,MAAAA,KAAK,EAAE;AAJD,KAFR;AAQC,IAAA,GAAG,EAAE9C;AARN,GAAA,EAUEF,IAAI,CArBR,QAWE,CAVD,CADD;AA1JD,CAAA;;AAqLAZ,QAAQ,CAARA,SAAAA,GAAqB;AACpBC,EAAAA,SAAS,EAAEiE,UAAAA,CAAAA,OAAAA,CAAAA,SAAAA,CAAoB,CAACA,UAAAA,CAAAA,OAAAA,CAAD,MAAA,EAAmBA,UAAAA,CAAAA,OAAAA,CAD9B,MACW,CAApBA,CADS;AAEpBhE,EAAAA,aAAa,EAAEgE,UAAAA,CAAAA,OAAAA,CAAAA,SAAAA,CAAoB,CAACA,UAAAA,CAAAA,OAAAA,CAAD,MAAA,EAAmBA,UAAAA,CAAAA,OAAAA,CAFlC,MAEe,CAApBA,CAFK;AAGpB/D,EAAAA,OAAO,EAAE+D,UAAAA,CAAAA,OAAAA,CAAAA,SAAAA,CAAoB,CAACA,UAAAA,CAAAA,OAAAA,CAAD,MAAA,EAAmBA,UAAAA,CAAAA,OAAAA,CAH5B,OAGS,CAApBA,CAHW;AAIpB9D,EAAAA,YAAY,EAAE8D,UAAAA,CAAAA,OAAAA,CAAAA,SAAAA,CAAoB,CAACA,UAAAA,CAAAA,OAAAA,CAAD,MAAA,EAAmBA,UAAAA,CAAAA,OAAAA,CAJjC,OAIc,CAApBA,CAJM;AAKpB3D,EAAAA,kBAAkB,EAAE2D,UAAAA,CAAAA,OAAAA,CAAAA,SAAAA,CAAoB,CACvCA,UAAAA,CAAAA,OAAAA,CADuC,MAAA,EAEvCA,UAAAA,CAAAA,OAAAA,CAPmB,OAKoB,CAApBA,CALA;AASpB1D,EAAAA,GAAG,EAAE0D,UAAAA,CAAAA,OAAAA,CATe,OAAA;AAUpBvD,EAAAA,OAAO,EAAEuD,UAAAA,CAAAA,OAAAA,CAVW,IAAA;AAWpBC,EAAAA,QAAQ,EAAED,UAAAA,CAAAA,OAAAA,CAAAA,IAAAA,CAXU,UAAA;AAYpBxD,EAAAA,SAAS,EAAEwD,UAAAA,CAAAA,OAAAA,CAZS,MAAA;AAapBzD,EAAAA,YAAY,EAAEyD,UAAAA,CAAAA,OAAAA,CAbM,MAAA;AAcpBE,EAAAA,IAAI,EAAEF,UAAAA,CAAAA,OAAAA,CAdc,IAAA;AAepBR,EAAAA,UAAU,EAAEQ,UAAAA,CAAAA,OAAAA,CAfQ,MAAA;AAgBpBT,EAAAA,eAAe,EAAES,UAAAA,CAAAA,OAAAA,CAhBG,MAAA;AAiBpBV,EAAAA,YAAY,EAAEU,UAAAA,CAAAA,OAAAA,CAjBM,MAAA;AAkBpBvB,EAAAA,SAAS,EAAEuB,UAAAA,CAAAA,OAAAA,CAlBS,MAAA;AAmBpBjC,EAAAA,MAAM,EAAEiC,UAAAA,CAAAA,OAAAA,CAAAA,KAAAA,CAAgB,CAAA,UAAA,EAAA,QAAA,EAAA,QAAA,EAAA,OAAA,EAAA,MAAA,EAnBJ,UAmBI,CAAhBA,CAnBY;AA2BpBtB,EAAAA,IAAI,EAAEsB,UAAAA,CAAAA,OAAAA,CA3Bc,MAAA;AA4BpBG,EAAAA,QAAQ,EAAEH,UAAAA,CAAAA,OAAAA,CA5BU,MAAA;AA6BpB/B,EAAAA,SAAS,EAAE+B,UAAAA,CAAAA,OAAAA,CA7BS,MAAA;AA8BpB9B,EAAAA,OAAO,EAAE8B,UAAAA,CAAAA,OAAAA,CAAUI;AA9BC,CAArBtE;eAiCeA,Q","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { animate, preset } from './helpers/helper';\n\nconst getDefaultStyle = () => {\n\treturn {\n\t\toverflow: 'hidden',\n\t\tposition: 'relative'\n\t};\n};\n\nconst ReadMore = ({\n\tminHeight,\n\tdisplayHeight,\n\tbtnText,\n\tbtnTextShown,\n\ttiming,\n\ttimingFunction,\n\tdefaultShownOnLess,\n\tbtn,\n\tbtnClassName,\n\tbtnStyles,\n\tonClick,\n\t...rest\n}) => {\n\tconst container = useRef();\n\tconst _container = useRef();\n\tconst [selectedPreset, setSelectedPreset] = useState('noWobble');\n\tconst [height, setHeight] = useState(50);\n\tconst [beforeHeight, setBeforeHeight] = useState(50);\n\tconst [finalHeight, setFinalHeight] = useState('auto');\n\tconst [show, setShown] = useState(false);\n\tconst [btnLabel, setBtnLabel] = useState('Read More');\n\tconst [btnLabelShown, setBtnLabelShown] = useState('Read Less');\n\tconst [maxAvailableHeight, setMaxAvailableHeight] = useState(0);\n\tconst [showContent, setShowContent] = useState(false);\n\n\tuseEffect(() => {\n\t\tif (minHeight) {\n\t\t\tsetHeight(minHeight);\n\t\t\tsetBeforeHeight(minHeight);\n\t\t}\n\t\tif (displayHeight) setFinalHeight(displayHeight);\n\t\tif (btnText) setBtnLabel(btnText);\n\t\tif (btnTextShown) setBtnLabelShown(btnTextShown);\n\t\tif (preset.hasOwnProperty(rest.preset)) setSelectedPreset(rest.preset);\n\t}, [btnText, btnTextShown, displayHeight, minHeight, rest.preset]);\n\n\tuseEffect(() => {\n\t\tif (_container.current.scrollHeight === 0) return;\n\t\tif (_container.current.scrollHeight === maxAvailableHeight) return;\n\t\tif (rest.children) {\n\t\t\tsetMaxAvailableHeight(_container.current.scrollHeight);\n\t\t}\n\t}, [maxAvailableHeight, rest.children]);\n\n\tconst animateNow = (fn, x, X) => {\n\t\tconst { stiffness, damping } = preset[selectedPreset];\n\t\tanimate(\n\t\t\t{\n\t\t\t\tframeRate: 1000 / 60,\n\t\t\t\tx: x,\n\t\t\t\tdestX: X,\n\t\t\t\tv: rest.velocity || 0,\n\t\t\t\tk: stiffness,\n\t\t\t\tb: damping,\n\t\t\t\tprecision: rest.precision || 0.01,\n\t\t\t\tmass: rest.mass || 1,\n\t\t\t\tel: container.current,\n\t\t\t\tkey: 'height'\n\t\t\t},\n\t\t\tfn\n\t\t);\n\t};\n\n\tconst showContents = () => {\n\t\tsetShowContent(true);\n\t\tsetShown(true);\n\t\tanimateNow(\n\t\t\t() => {\n\t\t\t\tsetHeight(finalHeight);\n\t\t\t\tif (typeof onClick === 'function') onClick.call(null, true);\n\t\t\t},\n\t\t\tminHeight,\n\t\t\tmaxAvailableHeight\n\t\t);\n\t};\n\n\tconst hideContents = () => {\n\t\tsetShown(false);\n\t\tsetShowContent(false);\n\n\t\tanimateNow(\n\t\t\t() => {\n\t\t\t\tsetHeight(beforeHeight);\n\t\t\t\tif (typeof onClick === 'function') onClick.call(null, false);\n\t\t\t},\n\t\t\tmaxAvailableHeight,\n\t\t\tminHeight\n\t\t);\n\t};\n\n\tconst toggleHeight = () => {\n\t\tif (show) {\n\t\t\thideContents();\n\t\t\treturn;\n\t\t}\n\n\t\tshowContents();\n\t};\n\n\tconst contentHasSameHeightOrLess = () => {\n\t\tif (!_container.current) return false;\n\t\treturn maxAvailableHeight <= height;\n\t};\n\n\tconst showChildren = () => {\n\t\tif (defaultShownOnLess && !showContent) return defaultShownOnLess;\n\t\treturn rest.children;\n\t};\n\n\tconst renderBtn = () => {\n\t\tconst shouldHide = contentHasSameHeightOrLess();\n\t\tif (btn) {\n\t\t\tconst newBtn = React.cloneElement(btn, {\n\t\t\t\tonClick: toggleHeight\n\t\t\t});\n\t\t\treturn shouldHide ? null : newBtn;\n\t\t}\n\n\t\treturn shouldHide ? null : (\n\t\t\t<button\n\t\t\t\tonClick={toggleHeight}\n\t\t\t\tclassName={btnClassName}\n\t\t\t\tstyle={{ ...btnStyles }}\n\t\t\t>\n\t\t\t\t{show ? btnLabelShown : btnLabel}\n\t\t\t</button>\n\t\t);\n\t};\n\n\tconst renderFade = () => {\n\t\tif (!rest.fade) return null;\n\t\tif (contentHasSameHeightOrLess()) return null;\n\n\t\tconst colorStopTop = rest.colorStopTop || 'rgba(255, 255, 255, 0)';\n\t\tconst colorStopBottom = rest.colorStopBottom || 'white';\n\t\tconst fadeHeight = rest.fadeHeight || beforeHeight / 2;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"readmore--fade\"\n\t\t\t\tstyle={{\n\t\t\t\t\topacity: show ? 0 : 1,\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\theight: fadeHeight,\n\t\t\t\t\tbottom: 0,\n\t\t\t\t\tbackgroundImage: `linear-gradient(to bottom, ${colorStopTop}, ${colorStopBottom})`,\n\t\t\t\t\ttransition: 'opacity 250ms ease-in'\n\t\t\t\t}}\n\t\t\t/>\n\t\t);\n\t};\n\n\treturn (\n\t\t<div className=\"readmore__wrapper\" style={{ position: 'relative' }}>\n\t\t\t<div\n\t\t\t\tclassName=\"readmore__container\"\n\t\t\t\tref={container}\n\t\t\t\tstyle={{ height, ...getDefaultStyle() }}\n\t\t\t>\n\t\t\t\t{showChildren()}\n\t\t\t\t{renderFade()}\n\t\t\t</div>\n\t\t\t{renderBtn()}\n\t\t\t<div\n\t\t\t\tclassName=\"reademore__hidden_content\"\n\t\t\t\tstyle={{\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\ttop: '-9999px',\n\t\t\t\t\tleft: '-9999px',\n\t\t\t\t\twidth: '100%'\n\t\t\t\t}}\n\t\t\t\tref={_container}\n\t\t\t>\n\t\t\t\t{rest.children}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nReadMore.propTypes = {\n\tminHeight: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\tdisplayHeight: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\tbtnText: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n\tbtnTextShown: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n\tdefaultShownOnLess: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.element\n\t]),\n\tbtn: PropTypes.element,\n\tonClick: PropTypes.func,\n\tchildren: PropTypes.node.isRequired,\n\tbtnStyles: PropTypes.object,\n\tbtnClassName: PropTypes.string,\n\tfade: PropTypes.bool,\n\tfadeHeight: PropTypes.number,\n\tcolorStopBottom: PropTypes.string,\n\tcolorStopTop: PropTypes.string,\n\tprecision: PropTypes.number,\n\tpreset: PropTypes.oneOf([\n\t\t'noWobble',\n\t\t'wobbly',\n\t\t'gentle',\n\t\t'stiff',\n\t\t'slow',\n\t\t'molasses'\n\t]),\n\tmass: PropTypes.number,\n\tvelocity: PropTypes.number,\n\tstiffness: PropTypes.number,\n\tdamping: PropTypes.number\n};\n\nexport default ReadMore;\n"]},"metadata":{},"sourceType":"script"}